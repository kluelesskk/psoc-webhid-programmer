(this["webpackJsonpcybtldr-app"]=this["webpackJsonpcybtldr-app"]||[]).push([[0],{194:function(e,r){},196:function(e,r){},207:function(e,r){},209:function(e,r){},236:function(e,r){},238:function(e,r){},239:function(e,r){},244:function(e,r){},246:function(e,r){},265:function(e,r){},277:function(e,r){},280:function(e,r){},283:function(e,r,t){},284:function(e,r,t){"use strict";t.r(r);var n=t(0),o=t(12),i=t.n(o),a=t(21),s=t(349),f=t(345),u=t(346),c=t(163),l=t(355),d=t(347),p=t(352),h=t(356),m=t(83),v=t(18),b=t.n(v),k=t(43),w=t(354),y=t(350),g=t(353),E=t(338),_=t(335),x=t(334),D=t(339),j=t(336),S=t(357),A=t(337),O=t(5);function F(e){return isNaN(e)?"":("0000"+e.toString(16)).slice(-4)}function P(e){return parseInt(e,16)}function C(e){var r=e.open,t=e.onClose,o=Object(n.useState)(1204),i=Object(a.a)(o,2),f=i[0],u=i[1],c=Object(n.useState)(61755),l=Object(a.a)(c,2),d=l[0],p=l[1],h=function(){var e=Object(k.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.hid.requestDevice({filters:[{vendorId:f,productId:d}]});case 2:(r=e.sent).length>0&&t(r[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(g.a,{open:r,children:[Object(O.jsx)(x.a,{children:"Connect to a new device"}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(s.a,{mb:2,children:"Connect the PSoC device to USB and put it into bootloader mode. The specifics of how to do that will depend on the device; for KitProg devices you need to hold the button while you plug it into the USB port. Once the bootloader is active, an LED should flash."}),Object(O.jsx)(s.a,{mb:2,children:"Enter the VID/PID of the device below, then click 'Connect' to authorize it with your browser."}),Object(O.jsxs)(s.a,{display:"flex",children:[Object(O.jsxs)(s.a,{mr:1,width:"5em",children:[Object(O.jsx)(S.a,{shrink:!0,children:"Vendor ID"}),Object(O.jsx)(j.a,{required:!0,defaultValue:F(f),onChange:function(e){return u(P(e))},startAdornment:Object(O.jsx)(A.a,{position:"start",children:"0x"})})]}),Object(O.jsxs)(s.a,{width:"5em",children:[Object(O.jsx)(S.a,{shrink:!0,children:"Product ID"}),Object(O.jsx)(j.a,{required:!0,defaultValue:F(d),onChange:function(e){return p(P(e))},startAdornment:Object(O.jsx)(A.a,{position:"start",children:"0x"})})]})]})]}),Object(O.jsxs)(E.a,{children:[Object(O.jsx)(D.a,{variant:"contained",color:"primary",onClick:h,children:"Connect..."}),Object(O.jsx)(D.a,{onClick:function(){return t(void 0)},children:"Cancel"})]})]})}function M(e){var r=e.onSelect,t=Object(n.useState)([]),o=Object(a.a)(t,2),i=o[0],s=o[1],f=Object(n.useState)(""),u=Object(a.a)(f,2),c=u[0],l=u[1];Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,navigator.hid.getDevices();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),navigator.hid.addEventListener("connect",e),navigator.hid.addEventListener("disconnect",e),function(){navigator.hid.removeEventListener("connect",e),navigator.hid.removeEventListener("disconnect",e)}}),[]),Object(n.useEffect)((function(){""===c&&i.length>0&&l(i.length-1),c>=i.length&&l("")}),[i,c]),Object(n.useEffect)((function(){c>=0&&r(i[c])}),[i,c,r]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(y.a,{value:c,variant:"outlined",style:{minWidth:"12em"},onChange:function(e){l(e.target.value)},children:[i.map((function(e,r){return Object(O.jsxs)(w.a,{value:r,children:[e.productName," [",F(e.vendorId),":",F(e.productId),"]"]},r)})),Object(O.jsx)(w.a,{value:"-1",children:"Open new device..."})]}),Object(O.jsx)(C,{open:"-1"===c,onClose:function(e){l(""),void 0!==e&&s([].concat(Object(m.a)(i),[e]))}})]})}var R=t(340),B=t(32),I=t.n(B);function N(e){var r=e.onComplete,t=Object(n.useState)(""),o=Object(a.a)(t,2),i=o[0],f=o[1];return Object(O.jsxs)(R.a,{container:!0,alignItems:"center",children:[Object(O.jsxs)(R.a,{item:!0,xs:4,children:[Object(O.jsx)("input",{style:{display:"none"},id:"open-file-input",type:"file",accept:".cyacd",onChange:function(e){if(1===e.target.files.length){var t=e.target.files[0];I.a.loadFile(t),r(!0),f(t.name)}}}),Object(O.jsx)("label",{htmlFor:"open-file-input",children:Object(O.jsx)(D.a,{variant:"outlined",color:"primary",component:"span",children:"Choose file..."})})]}),Object(O.jsx)(R.a,{item:!0,xs:8,children:Object(O.jsx)(s.a,{fontFamily:"Monospace",children:i})})]})}function z(e){var r=e.device,t=void 0!==r,o={Program:function(){var e=Object(k.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.program();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Verify:function(){var e=Object(k.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.verify();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Erase:function(){var e=Object(k.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.erase();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return Object(n.useEffect)((function(){return I.a.setDevice(r)}),[r]),Object(O.jsx)(R.a,{container:!0,spacing:1,children:Object.entries(o).map((function(e){return Object(O.jsx)(R.a,{item:!0,xs:3,children:Object(O.jsx)(D.a,{onClick:e[1],variant:"contained",color:"primary",fullWidth:!0,disabled:!t,children:e[0]})},e[0])}))})}var T=t(285),L=t(341),U=t(342),H=t(344),q=t(343);function W(e){var r=Object(n.useState)([]),t=Object(a.a)(r,2),o=t[0],i=t[1],f=function(e){var r=new Date;i((function(t){return[{timestamp:r,message:e}].concat(Object(m.a)(t))}))};return Object(n.useEffect)((function(){return I.a.addMessageCallback(f)}),[]),Object(O.jsx)(s.a,{mx:3,children:Object(O.jsx)(T.a,{elevation:3,children:Object(O.jsx)(L.a,{size:"small",children:Object(O.jsx)(U.a,{children:o.map((function(e,r){return Object(O.jsxs)(q.a,{hover:!0,children:[Object(O.jsx)(H.a,{children:e.timestamp.toISOString().slice(11,23)}),Object(O.jsx)(H.a,{children:e.message})]},r)}))})})})})}function V(){var e=Object(n.useState)(void 0),r=Object(a.a)(e,2),t=r[0],o=r[1],i=Object(n.useState)(!1),m=Object(a.a)(i,2),v=m[0],b=m[1],k=void 0===t?0:v?2:1;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f.a,{position:"sticky",children:Object(O.jsx)(u.a,{children:Object(O.jsx)(c.a,{variant:"h6",children:"PSoC Bootloadable Firmware Programmer"})})}),Object(O.jsxs)(s.a,{maxWidth:800,children:[Object(O.jsxs)(l.a,{orientation:"vertical",nonLinear:!0,activeStep:k,children:[Object(O.jsxs)(d.a,{expanded:!0,completed:k>0,children:[Object(O.jsx)(p.a,{children:"Select device"}),Object(O.jsx)(h.a,{children:Object(O.jsx)(M,{onSelect:o})})]}),Object(O.jsxs)(d.a,{expanded:!0,completed:k>1,children:[Object(O.jsx)(p.a,{children:"Select firmware"}),Object(O.jsx)(h.a,{children:Object(O.jsx)(N,{onComplete:b})})]}),Object(O.jsxs)(d.a,{expanded:!0,children:[Object(O.jsx)(p.a,{children:"Choose an action"}),Object(O.jsx)(h.a,{children:Object(O.jsx)(z,{device:t})})]})]}),Object(O.jsx)(W,{})]})]})}t(283);i.a.render(Object(O.jsx)(V,{}),document.getElementById("root"))},32:function(e,r,t){(function(r,n,o){var i,a=t(185),s=t(188),f=t(189),u=t(18),c=t(190),l="undefined"!==typeof l?l:{},d={};for(i in l)l.hasOwnProperty(i)&&(d[i]=l[i]);var p=[],h=!1,m=!1,v=!1,b=!1;h="object"===typeof window,m="function"===typeof importScripts,v="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,b=!h&&!v&&!m;var k,w,y,g,E,_="";function x(e){return l.locateFile?l.locateFile(e,_):_+e}v?(_=m?t(113).dirname(_)+"/":n+"/",k=function(e,r){var n=or(e);return n?r?n:n.toString():(g||(g=t(191)),E||(E=t(113)),e=E.normalize(e),g.readFileSync(e,r?null:"utf8"))},y=function(e){var r=k(e,!0);return r.buffer||(r=new Uint8Array(r)),M(r.buffer),r},r.argv.length>1&&r.argv[1].replace(/\\/g,"/"),p=r.argv.slice(2),e.exports=l,r.on("uncaughtException",(function(e){if(!(e instanceof hr))throw e})),r.on("unhandledRejection",le),function(e){r.exit(e)},l.inspect=function(){return"[Emscripten Module object]"}):b?("undefined"!=typeof read&&(k=function(e){var r=or(e);return r?rr(r):read(e)}),y=function(e){var r;return(r=or(e))?r:"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(M("object"===typeof(r=read(e,"binary"))),r)},"undefined"!=typeof scriptArgs?p=scriptArgs:"undefined"!=typeof arguments&&(p=arguments),"function"===typeof quit&&function(e){quit(e)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(h||m)&&(m?_=self.location.href:"undefined"!==typeof document&&document.currentScript&&(_=document.currentScript.src),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",k=function(e){try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText}catch(j){var t=or(e);if(t)return rr(t);throw j}},m&&(y=function(e){try{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}catch(j){var t=or(e);if(t)return t;throw j}}),w=function(e,r,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)r(n.response);else{var o=or(e);o?r(o.buffer):t()}},n.onerror=t,n.send(null)});var D=l.print||console.log.bind(console),j=l.printErr||console.warn.bind(console);for(i in d)d.hasOwnProperty(i)&&(l[i]=d[i]);d=null,l.arguments&&(p=l.arguments),l.thisProgram&&l.thisProgram,l.quit&&l.quit;var S,A=16;function O(e,r){return r||(r=A),Math.ceil(e/r)*r}l.wasmBinary&&(S=l.wasmBinary);l.noExitRuntime;var F,P={Memory:function(e){this.buffer=new ArrayBuffer(65536*e.initial)},Module:function(e){},Instance:function(e,r){this.exports=function(e){for(var r,t=new Uint8Array(123),n=25;n>=0;--n)t[48+n]=52+n,t[65+n]=n,t[97+n]=26+n;function o(e,r,n){for(var o,i,a=0,s=r,f=n.length,u=r+(3*f>>2)-("="==n[f-2])-("="==n[f-1]);a<f;a+=4)o=t[n.charCodeAt(a+1)],i=t[n.charCodeAt(a+2)],e[s++]=t[n.charCodeAt(a)]<<2|o>>4,s<u&&(e[s++]=o<<4|i>>2),s<u&&(e[s++]=i<<6|t[n.charCodeAt(a+3)])}return t[43]=62,t[47]=63,function(e){var t=e.a.buffer,n=new Int8Array(t),i=new Int16Array(t),a=new Int32Array(t),s=new Uint8Array(t),f=new Uint16Array(t),u=new Uint32Array(t),c=(new Float32Array(t),new Float64Array(t),Math.imul),l=(Math.fround,Math.abs,Math.clz32,Math.min,Math.max,Math.floor,Math.ceil,Math.trunc,Math.sqrt,e.abort),d=e.b,p=e.c,h=e.d,m=e.e,v=e.f,b=e.g,k=e.h,w=e.i,y=e.j,g=e.k,E=e.l,_=e.m,x=e.n,D=e.o,j=5245936,S=0,A=0;function O(e){var r,t=0,n=0,o=0,i=0,f=0,c=0,d=0,p=0,h=0,m=0,v=0;j=r=j-16|0;e:{r:{t:{n:{o:{i:{a:{s:{f:{u:{c:{l:{if((e|=0)>>>0<=244){if(3&(t=(i=a[640])>>>(e=(f=e>>>0<11?16:e+11&-8)>>>3|0)|0)){e=(t=a[(o=(n=e+(1&(-1^t))|0)<<3)+2608>>2])+8|0,(0|(f=a[t+8>>2]))!=(0|(o=o+2600|0))?(a[f+12>>2]=o,a[o+8>>2]=f):a[640]=Z(n)&i,n<<=3,a[t+4>>2]=3|n,a[(t=t+n|0)+4>>2]=1|a[t+4>>2];break e}if((p=a[642])>>>0>=f>>>0)break l;if(t){t=a[(o=(n=((d=(c=(d=(o=(n=(t=((e=((n=2<<e)|0-n)&t<<e)&0-e)-1|0)>>>(e=t>>>12&16)|0)>>>(t=n>>>5&8)|0)>>>(n=o>>>2&4)|0)>>>(o=d>>>1&2)|0)>>>1&1)|o|n|e|t)+(c>>>d|0)|0)<<3)+2608>>2],(0|(e=a[t+8>>2]))!=(0|(o=o+2600|0))?(a[e+12>>2]=o,a[o+8>>2]=e):(i=Z(n)&i,a[640]=i),e=t+8|0,a[t+4>>2]=3|f,o=(n<<=3)-f|0,a[(d=t+f|0)+4>>2]=1|o,a[t+n>>2]=o,p&&(t=2600+((n=p>>>3|0)<<3)|0,f=a[645],(n=1<<n)&i?n=a[t+8>>2]:(a[640]=n|i,n=t),a[t+8>>2]=f,a[n+12>>2]=f,a[f+12>>2]=t,a[f+8>>2]=n),a[645]=d,a[642]=o;break e}if(!(m=a[641]))break l;for(t=a[2864+(((d=(c=(d=(o=(n=(t=(m&0-m)-1|0)>>>(e=t>>>12&16)|0)>>>(t=n>>>5&8)|0)>>>(n=o>>>2&4)|0)>>>(o=d>>>1&2)|0)>>>1&1)|o|n|e|t)+(c>>>d|0)<<2)>>2],d=(-8&a[t+4>>2])-f|0,n=t;(e=a[n+16>>2])||(e=a[n+20>>2]);)d=(n=(o=(-8&a[e+4>>2])-f|0)>>>0<d>>>0)?o:d,t=n?e:t,n=e;if((v=t+f|0)>>>0<=t>>>0)break c;if(h=a[t+24>>2],(0|(o=a[t+12>>2]))!=(0|t)){e=a[t+8>>2],a[e+12>>2]=o,a[o+8>>2]=e;break r}if(!(e=a[(n=t+20|0)>>2])){if(!(e=a[t+16>>2]))break u;n=t+16|0}for(;c=n,o=e,(e=a[(n=e+20|0)>>2])||(n=o+16|0,e=a[o+16>>2]););a[c>>2]=0;break r}if(f=-1,!(e>>>0>4294967231)&&(f=-8&(e=e+11|0),p=a[641])){i=31,d=0-f|0,f>>>0<=16777215&&(i=28+(f>>>(e=((i=(n=(t=e>>>8|0)<<(e=t+1048320>>>16&8))<<(t=n+520192>>>16&4))<<(n=i+245760>>>16&2)>>>15|0)-(n|e|t)|0)+21&1|e<<1)|0);d:{p:{if(n=a[2864+(i<<2)>>2])for(e=0,t=f<<(31==(0|i)?0:25-(i>>>1|0)|0);;){if(!((c=(-8&a[n+4>>2])-f|0)>>>0>=d>>>0)&&(o=n,d=c,!c)){d=0,e=n;break p}if(c=a[n+20>>2],n=a[16+((t>>>29&4)+n|0)>>2],e=c?(0|c)==(0|n)?e:c:e,t<<=1,!n)break}else e=0;if(!(e|o)){if(!(e=((e=2<<i)|0-e)&p))break l;e=a[2864+(((c=(h=(c=(i=(n=(t=(e&0-e)-1|0)>>>(e=t>>>12&16)|0)>>>(t=n>>>5&8)|0)>>>(n=i>>>2&4)|0)>>>(i=c>>>1&2)|0)>>>1&1)|i|n|e|t)+(h>>>c|0)<<2)>>2]}if(!e)break d}for(;d=(t=(n=(-8&a[e+4>>2])-f|0)>>>0<d>>>0)?n:d,o=t?e:o,e=(t=a[e+16>>2])||a[e+20>>2];);}if(!(!o|a[642]-f>>>0<=d>>>0)){if((c=o+f|0)>>>0<=o>>>0)break c;if(h=a[o+24>>2],(0|o)!=(0|(t=a[o+12>>2]))){e=a[o+8>>2],a[e+12>>2]=t,a[t+8>>2]=e;break t}if(!(e=a[(n=o+20|0)>>2])){if(!(e=a[o+16>>2]))break f;n=o+16|0}for(;i=n,t=e,(e=a[(n=e+20|0)>>2])||(n=t+16|0,e=a[t+16>>2]););a[i>>2]=0;break t}}}if((t=a[642])>>>0>=f>>>0){e=a[645],(n=t-f|0)>>>0>=16?(a[642]=n,o=e+f|0,a[645]=o,a[o+4>>2]=1|n,a[e+t>>2]=n,a[e+4>>2]=3|f):(a[645]=0,a[642]=0,a[e+4>>2]=3|t,a[(t=e+t|0)+4>>2]=1|a[t+4>>2]),e=e+8|0;break e}if((o=a[643])>>>0>f>>>0){t=o-f|0,a[643]=t,n=(e=a[646])+f|0,a[646]=n,a[n+4>>2]=1|t,a[e+4>>2]=3|f,e=e+8|0;break e}if(e=0,i=d=f+47|0,a[758]?n=a[760]:(a[761]=-1,a[762]=-1,a[759]=4096,a[760]=4096,a[758]=r+12&-16^1431655768,a[763]=0,a[751]=0,n=4096),(n=(c=0-n|0)&(i=n+i|0))>>>0<=f>>>0)break e;if((p=a[750])&&(t=(h=a[748])+n|0)>>>0<=h>>>0|t>>>0>p>>>0)break e;if(4&s[3004])break i;l:{d:{if(t=a[646])for(e=3008;;){if(t>>>0<(p=a[e>>2])+a[e+4>>2]>>>0&&p>>>0<=t>>>0)break d;if(!(e=a[e+8>>2]))break}if(-1==(0|(t=Q(0))))break a;if(i=n,(o=(e=a[759])-1|0)&t&&(i=(n-t|0)+(t+o&0-e)|0),i>>>0>2147483646|f>>>0>=i>>>0)break a;if((o=a[750])&&(e=(c=a[748])+i|0)>>>0<=c>>>0|e>>>0>o>>>0)break a;if((0|t)!=(0|(e=Q(i))))break l;break o}if((i=c&i-o)>>>0>2147483646)break a;if((0|(t=Q(i)))==(a[e+4>>2]+a[e>>2]|0))break s;e=t}if(!(-1==(0|e)|f+48>>>0<=i>>>0)){if((t=0-(t=a[760])&t+(d-i|0))>>>0>2147483646){t=e;break o}if(-1!=(0|Q(t))){i=t+i|0,t=e;break o}Q(0-i|0);break a}if(t=e,-1!=(0|e))break o;break a}l()}o=0;break r}t=0;break t}if(-1!=(0|t))break o}a[751]=4|a[751]}if(n>>>0>2147483646)break n;if((t=Q(n))>>>0>=(e=Q(0))>>>0|-1==(0|t)|-1==(0|e))break n;if((i=e-t|0)>>>0<=f+40>>>0)break n}e=a[748]+i|0,a[748]=e,e>>>0>u[749]&&(a[749]=e);o:{i:{a:{if(o=a[646]){for(e=3008;;){if(((n=a[e+4>>2])+(d=a[e>>2])|0)==(0|t))break a;if(!(e=a[e+8>>2]))break}break i}for((e=a[644])>>>0<=t>>>0&&e||(a[644]=t),e=0,a[753]=i,a[752]=t,a[648]=-1,a[649]=a[758],a[755]=0;o=(n=e<<3)+2600|0,a[n+2608>>2]=o,a[n+2612>>2]=o,32!=(0|(e=e+1|0)););o=(e=i-40|0)-(n=t+8&7?-8-t&7:0)|0,a[643]=o,n=t+n|0,a[646]=n,a[n+4>>2]=1|o,a[4+(e+t|0)>>2]=40,a[647]=a[762];break o}if(!(8&a[e+12>>2]|o>>>0<d>>>0|t>>>0<=o>>>0)){a[e+4>>2]=n+i,t=(e=o+8&7?-8-o&7:0)+o|0,a[646]=t,e=(n=a[643]+i|0)-e|0,a[643]=e,a[t+4>>2]=1|e,a[4+(n+o|0)>>2]=40,a[647]=a[762];break o}}u[644]>t>>>0&&(a[644]=t),n=t+i|0,e=3008;i:{a:{s:{f:{u:{c:{for(;;){if((0|n)!=a[e>>2]){if(e=a[e+8>>2])continue;break c}break}if(!(8&s[e+12|0]))break u}for(e=3008;;){if((n=a[e>>2])>>>0<=o>>>0&&(d=n+a[e+4>>2]|0)>>>0>o>>>0)break f;e=a[e+8>>2]}}if(a[e>>2]=t,a[e+4>>2]=a[e+4>>2]+i,a[(p=(t+8&7?-8-t&7:0)+t|0)+4>>2]=3|f,n=((i=n+(n+8&7?-8-n&7:0)|0)-p|0)-f|0,c=f+p|0,(0|o)==(0|i)){a[646]=c,e=a[643]+n|0,a[643]=e,a[c+4>>2]=1|e;break a}if(a[645]==(0|i)){a[645]=c,e=a[642]+n|0,a[642]=e,a[c+4>>2]=1|e,a[e+c>>2]=e;break a}if(1==(3&(e=a[i+4>>2]))){h=-8&e;u:if(e>>>0<=255){if(f=e>>>3|0,e=a[i+8>>2],(0|(t=a[i+12>>2]))==(0|e)){a[640]=a[640]&Z(f);break u}a[e+12>>2]=t,a[t+8>>2]=e}else{if(o=a[i+24>>2],(0|i)==(0|(t=a[i+12>>2])))if((d=a[(e=i+20|0)>>2])||(d=a[(e=i+16|0)>>2])){for(;f=e,(d=a[(e=(t=d)+20|0)>>2])||(e=t+16|0,d=a[t+16>>2]););a[f>>2]=0}else t=0;else e=a[i+8>>2],a[e+12>>2]=t,a[t+8>>2]=e;if(o){e=a[i+28>>2];c:{if(a[(f=2864+(e<<2)|0)>>2]==(0|i)){if(a[f>>2]=t,t)break c;a[641]=a[641]&Z(e);break u}if(a[o+(a[o+16>>2]==(0|i)?16:20)>>2]=t,!t)break u}a[t+24>>2]=o,(e=a[i+16>>2])&&(a[t+16>>2]=e,a[e+24>>2]=t),(e=a[i+20>>2])&&(a[t+20>>2]=e,a[e+24>>2]=t)}}i=i+h|0,n=n+h|0}if(a[i+4>>2]=-2&a[i+4>>2],a[c+4>>2]=1|n,a[n+c>>2]=n,n>>>0<=255){e=2600+((t=n>>>3|0)<<3)|0,(t=1<<t)&(n=a[640])?t=a[e+8>>2]:(a[640]=t|n,t=e),a[e+8>>2]=c,a[t+12>>2]=c,a[c+12>>2]=e,a[c+8>>2]=t;break a}if(e=31,n>>>0<=16777215&&(e=28+(n>>>(e=((o=(f=(t=n>>>8|0)<<(e=t+1048320>>>16&8))<<(t=f+520192>>>16&4))<<(f=o+245760>>>16&2)>>>15|0)-(f|e|t)|0)+21&1|e<<1)|0),a[c+28>>2]=e,a[c+16>>2]=0,a[c+20>>2]=0,t=2864+(e<<2)|0,(f=1<<e)&(o=a[641])){for(e=n<<(31==(0|e)?0:25-(e>>>1|0)|0),t=a[t>>2];;){if(f=t,(-8&a[t+4>>2])==(0|n))break s;if(t=e>>>29|0,e<<=1,!(t=a[(o=f+(4&t)|0)+16>>2]))break}a[o+16>>2]=c,a[c+24>>2]=f}else a[641]=o|f,a[t>>2]=c,a[c+24>>2]=t;a[c+12>>2]=c,a[c+8>>2]=c;break a}for(c=(e=i-40|0)-(n=t+8&7?-8-t&7:0)|0,a[643]=c,n=t+n|0,a[646]=n,a[n+4>>2]=1|c,a[4+(e+t|0)>>2]=40,a[647]=a[762],a[(n=(e=(d+(d-39&7?39-d&7:0)|0)-47|0)>>>0<o+16>>>0?o:e)+4>>2]=27,e=a[755],a[n+16>>2]=a[754],a[n+20>>2]=e,e=a[753],a[n+8>>2]=a[752],a[n+12>>2]=e,a[754]=n+8,a[753]=i,a[752]=t,a[755]=0,e=n+24|0;a[e+4>>2]=7,t=e+8|0,e=e+4|0,t>>>0<d>>>0;);if((0|n)==(0|o))break o;if(a[n+4>>2]=-2&a[n+4>>2],d=n-o|0,a[o+4>>2]=1|d,a[n>>2]=d,d>>>0<=255){e=2600+((t=d>>>3|0)<<3)|0,(t=1<<t)&(n=a[640])?t=a[e+8>>2]:(a[640]=t|n,t=e),a[e+8>>2]=o,a[t+12>>2]=o,a[o+12>>2]=e,a[o+8>>2]=t;break o}if(e=31,a[o+16>>2]=0,a[o+20>>2]=0,d>>>0<=16777215&&(e=28+(d>>>(e=((i=(n=(t=d>>>8|0)<<(e=t+1048320>>>16&8))<<(t=n+520192>>>16&4))<<(n=i+245760>>>16&2)>>>15|0)-(n|e|t)|0)+21&1|e<<1)|0),a[o+28>>2]=e,t=2864+(e<<2)|0,(n=a[641])&(i=1<<e)){for(e=d<<(31==(0|e)?0:25-(e>>>1|0)|0),t=a[t>>2];;){if(n=t,(0|d)==(-8&a[t+4>>2]))break i;if(t=e>>>29|0,e<<=1,!(t=a[(i=n+(4&t)|0)+16>>2]))break}a[i+16>>2]=o,a[o+24>>2]=n}else a[641]=n|i,a[t>>2]=o,a[o+24>>2]=t;a[o+12>>2]=o,a[o+8>>2]=o;break o}e=a[f+8>>2],a[e+12>>2]=c,a[f+8>>2]=c,a[c+24>>2]=0,a[c+12>>2]=f,a[c+8>>2]=e}e=p+8|0;break e}e=a[n+8>>2],a[e+12>>2]=o,a[n+8>>2]=o,a[o+24>>2]=0,a[o+12>>2]=n,a[o+8>>2]=e}if(!((e=a[643])>>>0<=f>>>0)){t=e-f|0,a[643]=t,n=(e=a[646])+f|0,a[646]=n,a[n+4>>2]=1|t,a[e+4>>2]=3|f,e=e+8|0;break e}}a[620]=48,e=0;break e}t:if(h){e=a[o+28>>2];n:{if(a[(n=2864+(e<<2)|0)>>2]==(0|o)){if(a[n>>2]=t,t)break n;p=Z(e)&p,a[641]=p;break t}if(a[h+(a[h+16>>2]==(0|o)?16:20)>>2]=t,!t)break t}a[t+24>>2]=h,(e=a[o+16>>2])&&(a[t+16>>2]=e,a[e+24>>2]=t),(e=a[o+20>>2])&&(a[t+20>>2]=e,a[e+24>>2]=t)}t:if(d>>>0<=15)e=f+d|0,a[o+4>>2]=3|e,a[(e=e+o|0)+4>>2]=1|a[e+4>>2];else if(a[o+4>>2]=3|f,a[c+4>>2]=1|d,a[c+d>>2]=d,d>>>0<=255)e=2600+((t=d>>>3|0)<<3)|0,(t=1<<t)&(n=a[640])?t=a[e+8>>2]:(a[640]=t|n,t=e),a[e+8>>2]=c,a[t+12>>2]=c,a[c+12>>2]=e,a[c+8>>2]=t;else{e=31,d>>>0<=16777215&&(e=28+(d>>>(e=((f=(n=(t=d>>>8|0)<<(e=t+1048320>>>16&8))<<(t=n+520192>>>16&4))<<(n=f+245760>>>16&2)>>>15|0)-(n|e|t)|0)+21&1|e<<1)|0),a[c+28>>2]=e,a[c+16>>2]=0,a[c+20>>2]=0,t=2864+(e<<2)|0;n:{if((n=1<<e)&p){for(e=d<<(31==(0|e)?0:25-(e>>>1|0)|0),f=a[t>>2];;){if((-8&a[(t=f)+4>>2])==(0|d))break n;if(n=e>>>29|0,e<<=1,!(f=a[(n=t+(4&n)|0)+16>>2]))break}a[n+16>>2]=c}else a[641]=n|p,a[t>>2]=c;a[c+24>>2]=t,a[c+12>>2]=c,a[c+8>>2]=c;break t}e=a[t+8>>2],a[e+12>>2]=c,a[t+8>>2]=c,a[c+24>>2]=0,a[c+12>>2]=t,a[c+8>>2]=e}e=o+8|0;break e}r:if(h){e=a[t+28>>2];t:{if(a[(n=2864+(e<<2)|0)>>2]==(0|t)){if(a[n>>2]=o,o)break t;a[641]=Z(e)&m;break r}if(a[(a[h+16>>2]==(0|t)?16:20)+h>>2]=o,!o)break r}a[o+24>>2]=h,(e=a[t+16>>2])&&(a[o+16>>2]=e,a[e+24>>2]=o),(e=a[t+20>>2])&&(a[o+20>>2]=e,a[e+24>>2]=o)}d>>>0<=15?(e=f+d|0,a[t+4>>2]=3|e,a[(e=e+t|0)+4>>2]=1|a[e+4>>2]):(a[t+4>>2]=3|f,a[v+4>>2]=1|d,a[d+v>>2]=d,p&&(e=2600+((n=p>>>3|0)<<3)|0,f=a[645],(n=1<<n)&i?n=a[e+8>>2]:(a[640]=n|i,n=e),a[e+8>>2]=f,a[n+12>>2]=f,a[f+12>>2]=e,a[f+8>>2]=n),a[645]=v,a[642]=d),e=t+8|0}return j=r+16|0,0|e}function F(e,r,t){var o=0,c=0,h=0,m=0,k=0,w=0,y=0,g=0;2==(0|S)&&(a[A>>2]=a[A>>2]-28,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],h=a[r+16>>2],w=a[r+20>>2],y=a[r+24>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,m=a[a[A>>2]>>2]);e:{if(S||(j=o=j-1584|0,a[o+1580>>2]=0,a[o+1576>>2]=0,i[o+1574>>1]=0,i[o+1572>>1]=0,n[o+1571|0]=0,n[o+1570|0]=0,n[o+1569|0]=0,n[o+1568|0]=0,n[2464]=0,r=function(e){var r=0,t=0,o=0;j=r=j-16|0;r:{if($(1026,n[1024])){if(o=function(){var e=0,r=0,t=0;e=2,$(1024,43)||(e=114!=s[1024]);return e=$(1024,120)?128|e:e,e=$(1024,101)?524288|e:e,r=e,t=64|e,e=s[1024],r=114==(0|e)?r:t,r=119==(0|e)?512|r:r,97==(0|e)?1024|r:r}(),a[r>>2]=438,(e=0|b(0|e,32768|o,0|r))>>>0>=4294963201&&(a[620]=0-e,e=-1),(0|e)<0)break r;if(t=function(e){var r=0,t=0,o=0;j=t=j-32|0;t:{n:{if($(1030,n[1024])){if(r=O(1176))break n}else a[620]=28;r=0;break t}H(r,144),$(1024,43)||(a[r>>2]=114==s[1024]?8:4),97==s[1024]?(1024&(o=0|d(0|e,3,0))||(a[t+16>>2]=1024|o,d(0|e,4,t+16|0)),o=128|a[r>>2],a[r>>2]=o):o=a[r>>2],n[r+75|0]=255,a[r+48>>2]=1024,a[r+60>>2]=e,a[r+44>>2]=r+152,8&o||(a[t>>2]=t+24,0|v(0|e,21523,0|t)||(n[r+75|0]=10)),a[r+40>>2]=6,a[r+36>>2]=7,a[r+32>>2]=8,a[r+12>>2]=9,a[625]||(a[r+76>>2]=-1),a[r+56>>2]=a[623],(e=a[623])&&(a[e+52>>2]=r),a[623]=r}return j=t+32|0,r}(e))break r;p(0|e)}else a[620]=28;t=0}return j=r+16|0,t}(r),a[618]=r,w=!(r=!r)),2==(0|S)|w){if(S||(w=o+16|0,r=o+12|0),!S||!m){if(c=q(r,w),1==(0|S))break e;r=c}r:{if(!S){if(r)break r;if(y=o+1571|0,r=function(e,r,t,o,i){var f=0,u=0,c=0,l=0,d=0,p=0,h=0;j=l=j-768|0,p=3;t:if(!(1&e)&&(h=e>>>1|0)){for(e=0;(255&(f=(c=s[(u=e<<1)+r|0])-48|0))>>>0<10||(f=(c-97&255)>>>0<=5?c-87|0:(c-65&255)>>>0<6?c-55|0:0),c=f<<4,(255&(f=(u=s[(1|u)+r|0])-48|0))>>>0<10||(f=(u-97&255)>>>0<=5?u-87|0:(u-65&255)>>>0<6?u-55|0:0),n[e+l|0]=f|c,h>>>0>(e=65535&(d=d+1|0))>>>0;);if((e=65535&d)>>>0>=6)n[0|i]=s[l+5|0];else if(5!=(0|e))break t;e=a[l>>2],a[t>>2]=e>>>8&65280|e>>>24|e<<8&16711680|e<<24,n[0|o]=s[l+4|0],p=0}return j=l+768|0,p}(a[o+12>>2],o+16|0,o+1576|0,y,o+1570|0))break r;a[617]=s[o+1570|0],w=s[o+1571|0],h=o+1580|0,r=a[o+1576>>2]}if(!S||1==(0|m)){if(c=function(e,r,t){var o=0,i=0,f=0,u=0,c=0,d=0,p=0,h=0;2==(0|S)&&(a[A>>2]=a[A>>2]-32,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],i=a[r+16>>2],u=a[r+20>>2],c=a[r+24>>2],d=a[r+28>>2],r=a[r+4>>2]);2==(0|S)&&(a[A>>2]=a[A>>2]-4,p=a[a[A>>2]>>2]);S||(j=o=j-1056|0,a[548]=1036,a[o+1052>>2]=0,a[o+1048>>2]=0,a[o+1044>>2]=0,n[o+15|0]=0,n[o+14|0]=0,H(2208,256),i=a[259]);t:{if(!S||!p){if(f=0|te[0|i](),1==(0|S))break t;i=f}n:{o:{i:{if(!S){if(i){i|=8192;break i}if(i=function(e,r,t){var o=0;return a[t>>2]=15,a[r>>2]=7,n[e+3|0]=0,n[e+2|0]=0,n[0|e]=1,n[e+1|0]=56,o=a[r>>2]-3|0,t=L(e,o),n[e+o|0]=t,n[(a[r>>2]+e|0)-2|0]=t>>>8,n[(a[r>>2]+e|0)-1|0]=23,0}(o+528|0,o+1052|0,o+1048|0))break i;u=o+528|0,c=a[o+1052>>2],d=a[a[548]+12>>2],i=a[o+1048>>2]}if(!S||1==(0|p)){if(f=0|te[0|d](u,c),h=1,1==(0|S))break t;u=f}if(!S){if(u){i=8192|u;break i}c=a[a[548]+8>>2],u=o+16|0}if(!S||2==(0|p)){if(f=0|te[0|c](u,i),h=2,1==(0|S))break t;i=f}if(!S){if(!i)break o;i|=8192}}if(!S){if(function(e,r,t){var o=0,i=0,a=0;if(o=s[e+5|0],i=s[e+4|0],a=L(e,4),!(!e|(0|r)<7|1!=s[0|e]))return n[0|t]=s[e+1|0],(o<<8|i)==(0|a)&&23==s[6+((s[e+2|0]|s[e+3|0]<<8)+e|0)|0]?0:15;return 15}(o+16|0,a[o+1048>>2],o+14|0))break n;i=16384|s[o+14|0];break n}}if(!S){if(i=function(e,r,t,o,i,f){var u=0;u=3;if(15==(0|r)){if(r=s[e+1|0])return n[0|f]=r,16384|r;u=4,1!=s[0|e]|8!=s[e+2|0]|s[e+3|0]|23!=s[e+14|0]||(a[t>>2]=s[e+4|0]|s[e+5|0]<<8|s[e+6|0]<<16|s[e+7|0]<<24,n[0|o]=s[e+8|0],a[i>>2]=s[e+9|0]|s[e+10|0]<<8|s[e+11|0]<<16,n[0|f]=s[e+1|0],u=0)}return u}(o+16|0,a[o+1048>>2],o+1044|0,o+15|0,t,o+14|0))break n;if(i=6,a[o+1044>>2]!=(0|e)|s[o+15|0]!=(0|r))break n;e=s[o+14|0],i=s[t+2|0]<<16==65536?e?16384|e:0:7}}if(!S)return j=o+1056|0,i;l()}return a[a[A>>2]>>2]=h,a[A>>2]=a[A>>2]+4,f=a[A>>2],a[f>>2]=e,a[f+4>>2]=r,a[f+8>>2]=t,a[f+12>>2]=o,a[f+16>>2]=i,a[f+20>>2]=u,a[f+24>>2]=c,a[f+28>>2]=d,a[A>>2]=a[A>>2]+32,0}(r,w,h),k=1,1==(0|S))break e;r=c}t:{if(!S){if(r)break t;w=255,r=255==(255&(t=(255&(r=t-1|0))>>>0>1?-1:r))}n:{if(!S){if(r)break n;w=o+1567|0,h=o+1566|0,r=255&t}if(!S||2==(0|m)){if(c=I(r,w,h),k=2,1==(0|S))break e;h=c}if(!S){if(!(h|2==(0|e))&&(r=12,s[o+1566|0]))break t;if(r=16389==(0|h)){w=t;break n}if(w=t,r=h)break t}}n:{o:{if((r=S?r:1==(0|e))|2==(0|S)){for(;;){if((r=S?r:s[2464])|2==(0|S)){if(r=S?r:255,(!S||3==(0|m))&&(W(),k=3,1==(0|S)))break e;if(!S)break r}if(S||(t=o+16|0,r=o+12|0),!S||4==(0|m)){if(c=q(r,t),k=4,1==(0|S))break e;r=c}S||(t=!r)&&(t=o+16|0,h=o+1568|0,y=o+1574|0,r=z(a[o+12>>2],t,h,y,o+784|0,o+1572|0,o+1569|0));i:{if(!S){a:switch(0|r){case 2:break o;case 0:break a;default:break i}t=f[o+1574>>1],r=s[o+1568|0]}if(!S||5==(0|m)){if(c=N(r,t),k=5,1==(0|S))break e;r=c}if(!S){if(r)break i;t=f[o+1574>>1],r=s[o+1568|0]}if((!S||6==(0|m))&&(te[1](r,t),k=6,1==(0|S)))break e;r=S?r:0}if(S||!(t=!r))break}if(!S)break n}for(;;){if((r=S?r:s[2464])|2==(0|S)){if(r=S?r:255,(!S||7==(0|m))&&(W(),k=7,1==(0|S)))break e;if(!S)break r}if(S||(t=o+16|0,r=o+12|0),!S||8==(0|m)){if(c=q(r,t),k=8,1==(0|S))break e;r=c}S||(t=!r)&&(t=o+16|0,h=o+1568|0,y=o+1574|0,r=z(a[o+12>>2],t,h,y,o+784|0,o+1572|0,o+1569|0));i:{if(!S){a:switch(0|r){case 2:break o;case 0:break a;default:break i}r=0}a:{s:{if(!S){f:switch(0|e){case 2:break s;case 0:break f;default:break a}t=f[o+1574>>1],h=o+784|0,y=f[o+1572>>1],r=s[o+1568|0]}if(!S||9==(0|m)){if(c=C(r,t,h,y),k=9,1==(0|S))break e;r=c}if(r&&!S)break n}if(S||(h=(y=(h=f[o+1572>>1])+((r=f[o+1574>>1])+((t=s[o+1568|0])+s[o+1569|0]|0)+(r>>>8)|0)|0)+(h>>>8|0)&255),!S||10==(0|m)){if(c=B(t,r,h),k=10,1==(0|S))break e;r=c}}if(!S){if(r)break i;t=f[o+1574>>1],r=s[o+1568|0]}if((!S||11==(0|m))&&(te[1](r,t),k=11,1==(0|S)))break e;r=S?r:0}if(S||!(t=!r))break}if(!S)break n}o:{if(!S){if(e)break o;if(255==(0|(r=255&w)))break o;t=o+1566|0,e=o+1567|0}if(g=e,!S||12==(0|m)){if(c=I(r,e,t),k=12,1==(0|S))break e;r=c}if((e=S?g:16389!=(0|r))|2==(0|S)){if(!S){if(r)break n;if(r=8,e=s[o+1567|0])break n;e=255&w}if(!S||13==(0|m)){if(c=function(e){var r=0,t=0,o=0,i=0,f=0,u=0,c=0;2==(0|S)&&(a[A>>2]=a[A>>2]-20,t=a[A>>2],e=a[t>>2],r=a[t+4>>2],i=a[t+12>>2],f=a[t+16>>2],t=a[t+8>>2]);2==(0|S)&&(a[A>>2]=a[A>>2]-4,u=a[a[A>>2]>>2]);S||(j=r=j-1056|0,a[r+1052>>2]=0,a[r+1048>>2]=0,n[r+15|0]=0,e=function(e,r,t,o){return a[o>>2]=7,a[t>>2]=8,n[r+4|0]=e,n[0|r]=1,n[r+1|0]=54,n[r+2|0]=1,n[r+3|0]=0,e=L(r,5),n[r+7|0]=23,n[r+5|0]=e,n[r+6|0]=e>>>8,0}(e,t=r+528|0,i=r+1052|0,f=r+1048|0));i:{a:{if(!S){if(e)break a;t=r+528|0,i=a[r+1052>>2],f=a[a[548]+12>>2],e=a[r+1048>>2]}if(!S||!u){if(o=0|te[0|f](t,i),1==(0|S))break i;t=o}if(!S){if(t){e=8192|t;break a}i=a[a[548]+8>>2],t=r+16|0}if(!S||1==(0|u)){if(o=0|te[0|i](t,e),c=1,1==(0|S))break i;e=o}if(!S){if(e){e|=8192;break a}if(e=Y(r+16|0,a[r+1048>>2],r+15|0))break a;if(!(e=s[r+15|0])){e=0;break a}e|=16384}}if(!S)return j=r+1056|0,e;l()}return a[a[A>>2]>>2]=c,a[A>>2]=a[A>>2]+4,o=a[A>>2],a[o>>2]=e,a[o+4>>2]=r,a[o+8>>2]=t,a[o+12>>2]=i,a[o+16>>2]=f,a[A>>2]=a[A>>2]+20,0}(e),k=13,1==(0|S))break e;r=c}if((!S||14==(0|m))&&(W(),k=14,1==(0|S)))break e;if(!S)break r}if(r=S?r:0,(!S||15==(0|m))&&(W(),k=15,1==(0|S)))break e;if(!S)break r}if(!S){if(r=0,e&=-3)break n;if(e=u[o+1580>>2]<66068)break n}if(!S||16==(0|m)){if(c=function(){var e=0,r=0,t=0,o=0,i=0,f=0,u=0,c=0,d=0;2==(0|S)&&(a[A>>2]=a[A>>2]-24,e=a[A>>2],r=a[e>>2],t=a[e+8>>2],i=a[e+12>>2],f=a[e+16>>2],u=a[e+20>>2],e=a[e+4>>2]);2==(0|S)&&(a[A>>2]=a[A>>2]-4,c=a[a[A>>2]>>2]);S||(j=r=j-1040|0,a[r+12>>2]=0,a[r+8>>2]=0,n[r+7|0]=0,n[r+6|0]=0,e=function(e,r,t){return a[t>>2]=8,a[r>>2]=7,n[0|e]=1,n[e+1|0]=49,n[e+2|0]=0,n[e+3|0]=0,r=L(e,4),n[e+6|0]=23,n[e+4|0]=r,n[e+5|0]=r>>>8,0}(r+528|0,t=r+12|0,i=r+8|0));o:{i:{if(!S){if(e)break i;t=r+528|0,i=a[r+12>>2],f=a[a[548]+12>>2],e=a[r+8>>2]}if(!S||!c){if(o=0|te[0|f](t,i),1==(0|S))break o;t=o}if(!S){if(t){e=8192|t;break i}i=a[a[548]+8>>2],t=r+16|0}if(!S||1==(0|c)){if(o=0|te[0|i](t,e),d=1,1==(0|S))break o;e=o}if(!S){if(e){e|=8192;break i}if(e=J(r+16|0,a[r+8>>2],r+7|0,r+6|0),u=0!=s[r+7|0],!(t=s[r+6|0]))break i;e=16384|t}}if(!S)return j=r+1040|0,u?e:e||8;l()}return a[a[A>>2]>>2]=d,a[A>>2]=a[A>>2]+4,o=a[A>>2],a[o>>2]=r,a[o+4>>2]=e,a[o+8>>2]=t,a[o+12>>2]=i,a[o+16>>2]=f,a[o+20>>2]=u,a[A>>2]=a[A>>2]+24,0}(),k=16,1==(0|S))break e;r=c}}if((!S||17==(0|m))&&(W(),k=17,1==(0|S)))break e;if(!S)break r}if((S||!(e=8192&r))&&((!S||18==(0|m))&&(W(),k=18,1==(0|S))))break e}if((e=S?e:a[618])|2==(0|S)){if((!S||19==(0|m))&&(function(e){var r=0,t=0,n=0,o=0,i=0,s=0;2==(0|S)&&(a[A>>2]=a[A>>2]-16,r=a[A>>2],e=a[r>>2],o=a[r+8>>2],n=a[r+12>>2],t=a[r+4>>2]);2==(0|S)&&(a[A>>2]=a[A>>2]-4,i=a[a[A>>2]>>2]);S||(o=a[e+76>>2]>=0,(t=!(n=1&a[e>>2]))&&((t=a[e+52>>2])&&(a[t+56>>2]=a[e+56>>2]),(r=a[e+56>>2])&&(a[r+52>>2]=t),(t=a[623]==(0|e))&&(a[623]=r)));r:{if(!S||!i){if(r=U(e),1==(0|S))break r;t=r}if(t=S?t:a[e+12>>2],S&&1!=(0|i)||(te[0|t](e),s=1,1!=(0|S)))return void(S||((r=a[e+96>>2])&&P(r),n||P(e)))}a[a[A>>2]>>2]=s,a[A>>2]=a[A>>2]+4,r=a[A>>2],a[r>>2]=e,a[r+4>>2]=t,a[r+8>>2]=o,a[r+12>>2]=n,a[A>>2]=a[A>>2]+16}(e),k=19,1==(0|S)))break e;S||(a[618]=0)}}if(!S)return j=o+1584|0,r;l()}return a[a[A>>2]>>2]=k,a[A>>2]=a[A>>2]+4,c=a[A>>2],a[c>>2]=e,a[c+4>>2]=r,a[c+8>>2]=t,a[c+12>>2]=o,a[c+16>>2]=h,a[c+20>>2]=w,a[c+24>>2]=y,a[A>>2]=a[A>>2]+28,0}function P(e){var r=0,t=0,n=0,o=0,i=0,s=0,f=0;e:if(e|=0){i=(n=e-8|0)+(e=-8&(r=a[e-4>>2]))|0;r:if(!(1&r)){if(!(3&r))break e;if((n=n-(r=a[n>>2])|0)>>>0<u[644])break e;if(e=e+r|0,a[645]==(0|n)){if(3==(3&(r=a[i+4>>2])))return a[642]=e,a[i+4>>2]=-2&r,a[n+4>>2]=1|e,void(a[e+n>>2]=e)}else{if(r>>>0<=255){if(o=a[n+8>>2],r=r>>>3|0,(0|(t=a[n+12>>2]))==(0|o)){a[640]=a[640]&Z(r);break r}a[o+12>>2]=t,a[t+8>>2]=o;break r}if(f=a[n+24>>2],(0|n)==(0|(r=a[n+12>>2])))if((t=a[(o=n+20|0)>>2])||(t=a[(o=n+16|0)>>2])){for(;s=o,(t=a[(o=(r=t)+20|0)>>2])||(o=r+16|0,t=a[r+16>>2]););a[s>>2]=0}else r=0;else t=a[n+8>>2],a[t+12>>2]=r,a[r+8>>2]=t;if(!f)break r;o=a[n+28>>2];t:{if(a[(t=2864+(o<<2)|0)>>2]==(0|n)){if(a[t>>2]=r,r)break t;a[641]=a[641]&Z(o);break r}if(a[f+(a[f+16>>2]==(0|n)?16:20)>>2]=r,!r)break r}if(a[r+24>>2]=f,(t=a[n+16>>2])&&(a[r+16>>2]=t,a[t+24>>2]=r),!(t=a[n+20>>2]))break r;a[r+20>>2]=t,a[t+24>>2]=r}}if(!(n>>>0>=i>>>0)&&1&(r=a[i+4>>2])){r:{if(!(2&r)){if(a[646]==(0|i)){if(a[646]=n,e=a[643]+e|0,a[643]=e,a[n+4>>2]=1|e,a[645]!=(0|n))break e;return a[642]=0,void(a[645]=0)}if(a[645]==(0|i))return a[645]=n,e=a[642]+e|0,a[642]=e,a[n+4>>2]=1|e,void(a[e+n>>2]=e);e=(-8&r)+e|0;t:if(r>>>0<=255){if(o=a[i+8>>2],r=r>>>3|0,(0|(t=a[i+12>>2]))==(0|o)){a[640]=a[640]&Z(r);break t}a[o+12>>2]=t,a[t+8>>2]=o}else{if(f=a[i+24>>2],(0|i)==(0|(r=a[i+12>>2])))if((t=a[(o=i+20|0)>>2])||(t=a[(o=i+16|0)>>2])){for(;s=o,(t=a[(o=(r=t)+20|0)>>2])||(o=r+16|0,t=a[r+16>>2]););a[s>>2]=0}else r=0;else t=a[i+8>>2],a[t+12>>2]=r,a[r+8>>2]=t;if(f){o=a[i+28>>2];n:{if(a[(t=2864+(o<<2)|0)>>2]==(0|i)){if(a[t>>2]=r,r)break n;a[641]=a[641]&Z(o);break t}if(a[f+(a[f+16>>2]==(0|i)?16:20)>>2]=r,!r)break t}a[r+24>>2]=f,(t=a[i+16>>2])&&(a[r+16>>2]=t,a[t+24>>2]=r),(t=a[i+20>>2])&&(a[r+20>>2]=t,a[t+24>>2]=r)}}if(a[n+4>>2]=1|e,a[e+n>>2]=e,a[645]!=(0|n))break r;return void(a[642]=e)}a[i+4>>2]=-2&r,a[n+4>>2]=1|e,a[e+n>>2]=e}if(e>>>0<=255)return r=2600+((e=e>>>3|0)<<3)|0,(t=1<<e)&(e=a[640])?e=a[r+8>>2]:(a[640]=e|t,e=r),a[r+8>>2]=n,a[e+12>>2]=n,a[n+12>>2]=r,void(a[n+8>>2]=e);o=31,a[n+16>>2]=0,a[n+20>>2]=0,e>>>0<=16777215&&(r=e>>>8|0,r<<=s=r+1048320>>>16&8,o=28+(e>>>(r=((r<<=o=r+520192>>>16&4)<<(t=r+245760>>>16&2)>>>15|0)-(t|o|s)|0)+21&1|r<<1)|0),a[n+28>>2]=o,s=2864+(o<<2)|0;r:{t:{if((t=a[641])&(r=1<<o)){for(o=e<<(31==(0|o)?0:25-(o>>>1|0)|0),r=a[s>>2];;){if(t=r,(-8&a[r+4>>2])==(0|e))break t;if(r=o>>>29|0,o<<=1,!(r=a[(s=t+(4&r)|0)+16>>2]))break}a[s+16>>2]=n,a[n+24>>2]=t}else a[641]=r|t,a[s>>2]=n,a[n+24>>2]=s;a[n+12>>2]=n,a[n+8>>2]=n;break r}e=a[t+8>>2],a[e+12>>2]=n,a[t+8>>2]=n,a[n+24>>2]=0,a[n+12>>2]=t,a[n+8>>2]=e}e=a[648]-1|0,a[648]=e||-1}}}function C(e,r,t,o){var i=0,f=0,u=0,c=0,d=0,p=0,h=0,m=0,v=0,b=0,k=0;2==(0|S)&&(a[A>>2]=a[A>>2]-48,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],i=a[r+16>>2],f=a[r+20>>2],c=a[r+24>>2],p=a[r+28>>2],h=a[r+32>>2],d=a[r+36>>2],b=a[r+40>>2],m=a[r+44>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,v=a[a[A>>2]>>2]);e:{S||(j=f=j-1040|0,n[f+7|0]=0,i=e>>>0<=63);r:{if(2==(0|S)|i){if(!S||!v){if(u=M(e,r),1==(0|S))break e;i=u}if(i&&!S)break r}for(b=S?b:o+11|0;;){if(S||(p=(i=a[a[548]+16>>2])>>>0<b-h>>>0),2==(0|S)|p){S||(i=X(c=t+h|0,p=i-11&65535,f+528|0,d=f+12|0,m=f+8|0));t:{if(!S){if(i)break t;c=f+528|0,d=a[f+12>>2],m=a[a[548]+12>>2],i=a[f+8>>2]}if(!S||1==(0|v)){if(u=0|te[0|m](c,d),k=1,1==(0|S))break e;c=u}if(!S){if(c){i=8192|c;break t}d=a[a[548]+8>>2],c=f+16|0}if(!S||2==(0|v)){if(u=0|te[0|d](c,i),k=2,1==(0|S))break e;i=u}if(!S){if(i){i|=8192;break t}d=f+7|0,i=Y(f+16|0,a[f+8>>2],d)}}if(!S){if(h=h+p|0,c=16384|(u=s[f+7|0]),p=!(i=u?c:i))continue;break r}}break}S||(i=function(e,r,t,o,i,f,u){a[u>>2]=7,a[f>>2]=o+10,n[i+6|0]=r>>>8,n[i+5|0]=r,n[i+4|0]=e,e=o+3|0,n[i+3|0]=e>>>8,n[i+2|0]=e,n[0|i]=1,n[i+1|0]=57;if(o){if(e=3&o,r=0,o-1>>>0>=3)for(u=65532&o;n[(o=r+i|0)+7|0]=s[r+t|0],n[o+8|0]=s[(1|r)+t|0],n[o+9|0]=s[(2|r)+t|0],n[o+10|0]=s[(3|r)+t|0],r=r+4|0,u=u-4|0;);if(e)for(;n[7+(r+i|0)|0]=s[r+t|0],r=r+1|0,e=e-1|0;);}return r=a[f>>2]-3|0,e=L(i,r),n[r+i|0]=e,n[(a[f>>2]+i|0)-2|0]=e>>>8,n[(a[f>>2]+i|0)-1|0]=23,0}(e,r,t=t+h|0,o=o-h&65535,f+528|0,f+12|0,f+8|0));t:{if(!S){if(i)break t;r=f+528|0,t=a[f+12>>2],o=a[a[548]+12>>2],e=a[f+8>>2]}if(!S||3==(0|v)){if(u=0|te[0|o](r,t),k=3,1==(0|S))break e;r=u}if(!S){if(r){i=8192|r;break t}t=a[a[548]+8>>2],r=f+16|0}if(!S||4==(0|v)){if(u=0|te[0|t](r,e),k=4,1==(0|S))break e;e=u}if(!S){if(e){i=8192|e;break t}i=Y(f+16|0,a[f+8>>2],f+7|0)}}if(!S){if(!(e=s[f+7|0]))break r;i=16384|e}}if(!S)return j=f+1040|0,i;l()}return a[a[A>>2]>>2]=k,a[A>>2]=a[A>>2]+4,u=a[A>>2],a[u>>2]=e,a[u+4>>2]=r,a[u+8>>2]=t,a[u+12>>2]=o,a[u+16>>2]=i,a[u+20>>2]=f,a[u+24>>2]=c,a[u+28>>2]=p,a[u+32>>2]=h,a[u+36>>2]=d,a[u+40>>2]=b,a[u+44>>2]=m,a[A>>2]=a[A>>2]+48,0}function M(e,r){var t=0,o=0,u=0,c=0,d=0,p=0,h=0,m=0,v=0;2==(0|S)&&(a[A>>2]=a[A>>2]-32,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],u=a[r+16>>2],d=a[r+20>>2],p=a[r+24>>2],h=a[r+28>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,m=a[a[A>>2]>>2]),S||(j=t=j-1056|0,i[t+1046>>1]=0,i[t+1044>>1]=0,n[t+15|0]=0,u=9,o=e>>>0>63);e:{r:{if(!S){if(o)break r;o=!(u=a[(h=2208+(e<<2)|0)>>2])}if(2==(0|S)|o){S||(u=0,e=function(e,r,t,o){return a[o>>2]=11,a[t>>2]=8,n[r+4|0]=e,n[0|r]=1,n[r+1|0]=50,n[r+2|0]=1,n[r+3|0]=0,e=L(r,5),n[r+7|0]=23,n[r+5|0]=e,n[r+6|0]=e>>>8,0}(e,o=t+528|0,d=t+1052|0,p=t+1048|0));t:{if(!S){if(e)break t;o=t+528|0,d=a[t+1052>>2],p=a[a[548]+12>>2],e=a[t+1048>>2]}if(!S||!m){if(c=0|te[0|p](o,d),1==(0|S))break e;o=c}if(!S){if(o){e=8192|o;break t}d=a[a[548]+8>>2],o=t+16|0}if(!S||1==(0|m)){if(c=0|te[0|d](o,e),v=1,1==(0|S))break e;e=c}if(!S){if(e){e|=8192;break t}e=function(e,r,t,o,a){var f=0;f=3;if(11==(0|r)){if(r=s[e+1|0])return n[0|a]=r,16384|r;f=4,1!=s[0|e]|4!=s[e+2|0]|s[e+3|0]|23!=s[e+10|0]||(i[t>>1]=s[e+4|0]|s[e+5|0]<<8,i[o>>1]=s[e+6|0]|s[e+7|0]<<8,n[0|a]=s[e+1|0],f=0)}return f}(t+16|0,a[t+1048>>2],t+1046|0,t+1044|0,t+15|0),u=s[t+15|0]}}if(!S){if(c=16384|(o=255&u),u=(e=o?c:e)||c,e|o)break r;u=f[t+1044>>1]|f[t+1046>>1]<<16,a[h>>2]=u}}u=S?u:u>>>16>>>0>r>>>0||(65535&u)>>>0<r>>>0?10:0}if(!S)return j=t+1056|0,u;l()}return a[a[A>>2]>>2]=v,a[A>>2]=a[A>>2]+4,c=a[A>>2],a[c>>2]=e,a[c+4>>2]=r,a[c+8>>2]=t,a[c+12>>2]=o,a[c+16>>2]=u,a[c+20>>2]=d,a[c+24>>2]=p,a[c+28>>2]=h,a[A>>2]=a[A>>2]+32,0}function R(e,r,t){var o,i=0;if(t>>>0>=512)E(0|e,0|r,0|t);else{o=e+t|0;e:if(3&(e^r))if(o>>>0<4)t=e;else if((i=o-4|0)>>>0<e>>>0)t=e;else for(t=e;n[0|t]=s[0|r],n[t+1|0]=s[r+1|0],n[t+2|0]=s[r+2|0],n[t+3|0]=s[r+3|0],r=r+4|0,i>>>0>=(t=t+4|0)>>>0;);else{r:if((0|t)<1)t=e;else if(3&e)for(t=e;;){if(n[0|t]=s[0|r],r=r+1|0,o>>>0<=(t=t+1|0)>>>0)break r;if(!(3&t))break}else t=e;if(!((e=-4&o)>>>0<64)&&!((i=e+-64|0)>>>0<t>>>0))for(;a[t>>2]=a[r>>2],a[t+4>>2]=a[r+4>>2],a[t+8>>2]=a[r+8>>2],a[t+12>>2]=a[r+12>>2],a[t+16>>2]=a[r+16>>2],a[t+20>>2]=a[r+20>>2],a[t+24>>2]=a[r+24>>2],a[t+28>>2]=a[r+28>>2],a[t+32>>2]=a[r+32>>2],a[t+36>>2]=a[r+36>>2],a[t+40>>2]=a[r+40>>2],a[t+44>>2]=a[r+44>>2],a[t+48>>2]=a[r+48>>2],a[t+52>>2]=a[r+52>>2],a[t+56>>2]=a[r+56>>2],a[t+60>>2]=a[r+60>>2],r=r- -64|0,i>>>0>=(t=t- -64|0)>>>0;);if(e>>>0<=t>>>0)break e;for(;a[t>>2]=a[r>>2],r=r+4|0,e>>>0>(t=t+4|0)>>>0;);}if(t>>>0<o>>>0)for(;n[0|t]=s[0|r],r=r+1|0,(0|o)!=(0|(t=t+1|0)););}}function B(e,r,t){var o=0,i=0,f=0,u=0,c=0,d=0,p=0;2==(0|S)&&(a[A>>2]=a[A>>2]-28,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],i=a[r+16>>2],u=a[r+20>>2],c=a[r+24>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,d=a[a[A>>2]>>2]);e:{S||(j=o=j-1040|0,a[o+12>>2]=0,a[o+8>>2]=0,n[o+7|0]=0,n[o+6|0]=0,i=e>>>0<=63);r:{if(2==(0|S)|i){if(!S||!d){if(f=M(e,r),1==(0|S))break e;i=f}if(i&&!S)break r}if(!S){if(i=function(e,r,t,o,i){return a[i>>2]=8,a[o>>2]=10,n[t+6|0]=r>>>8,n[t+5|0]=r,n[t+4|0]=e,n[0|t]=1,n[t+1|0]=58,n[t+2|0]=3,n[t+3|0]=0,e=L(t,7),n[t+9|0]=23,n[t+7|0]=e,n[t+8|0]=e>>>8,0}(e,r,o+528|0,o+12|0,o+8|0))break r;r=o+528|0,i=a[o+12>>2],u=a[a[548]+12>>2],e=a[o+8>>2]}if(!S||1==(0|d)){if(f=0|te[0|u](r,i),p=1,1==(0|S))break e;r=f}if(!S){if(r){i=8192|r;break r}i=a[a[548]+8>>2],r=o+16|0}if(!S||2==(0|d)){if(f=0|te[0|i](r,e),p=2,1==(0|S))break e;e=f}if(!S){if(e){i=8192|e;break r}if(i=J(o+16|0,a[o+8>>2],o+7|0,o+6|0),c=s[o+7|0],!(e=s[o+6|0]))break r;i=16384|e}}if(!S)return j=o+1040|0,i||((0|t)!=(0|c))<<3;l()}return a[a[A>>2]>>2]=p,a[A>>2]=a[A>>2]+4,f=a[A>>2],a[f>>2]=e,a[f+4>>2]=r,a[f+8>>2]=t,a[f+12>>2]=o,a[f+16>>2]=i,a[f+20>>2]=u,a[f+24>>2]=c,a[A>>2]=a[A>>2]+28,0}function I(e,r,t){var o=0,i=0,f=0,u=0,c=0,d=0,p=0;2==(0|S)&&(a[A>>2]=a[A>>2]-28,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],f=a[r+16>>2],u=a[r+20>>2],c=a[r+24>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,d=a[a[A>>2]>>2]),S||(j=o=j-1056|0,a[o+1052>>2]=0,a[o+1048>>2]=0,n[o+15|0]=0,e=function(e,r,t,o){return a[o>>2]=9,a[t>>2]=8,n[r+4|0]=e,n[0|r]=1,n[r+1|0]=51,n[r+2|0]=1,n[r+3|0]=0,e=L(r,5),n[r+7|0]=23,n[r+5|0]=e,n[r+6|0]=e>>>8,0}(e,f=o+528|0,u=o+1052|0,c=o+1048|0));e:{r:{if(!S){if(e)break r;f=o+528|0,u=a[o+1052>>2],c=a[a[548]+12>>2],e=a[o+1048>>2]}if(!S||!d){if(i=0|te[0|c](f,u),1==(0|S))break e;f=i}if(!S){if(f){e=8192|f;break r}u=a[a[548]+8>>2],f=o+16|0}if(!S||1==(0|d)){if(i=0|te[0|u](f,e),p=1,1==(0|S))break e;e=i}if(!S){if(e){e|=8192;break r}if(e=function(e,r,t,o,i){var a=0;a=3;if(9==(0|r)){if(r=s[e+1|0])return n[0|i]=r,16384|r;a=4,1!=s[0|e]|2!=s[e+2|0]|s[e+3|0]|23!=s[e+8|0]||(n[0|t]=s[e+4|0],n[0|o]=s[e+5|0],n[0|i]=s[e+1|0],a=0)}return a}(o+16|0,a[o+1048>>2],r,t,o+15|0))break r;if(!(e=s[o+15|0])){e=0;break r}e|=16384}}if(!S)return j=o+1056|0,e;l()}return a[a[A>>2]>>2]=p,a[A>>2]=a[A>>2]+4,i=a[A>>2],a[i>>2]=e,a[i+4>>2]=r,a[i+8>>2]=t,a[i+12>>2]=o,a[i+16>>2]=f,a[i+20>>2]=u,a[i+24>>2]=c,a[A>>2]=a[A>>2]+28,0}function N(e,r){var t=0,o=0,i=0,f=0,u=0,c=0;2==(0|S)&&(a[A>>2]=a[A>>2]-20,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],o=a[r+12>>2],f=a[r+16>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,u=a[a[A>>2]>>2]);e:{S||(j=t=j-1040|0,a[t+12>>2]=0,a[t+8>>2]=0,n[t+7|0]=0,o=e>>>0<=63);r:{if(2==(0|S)|o){if(!S||!u){if(i=M(e,r),1==(0|S))break e;o=i}if(o&&!S)break r}if(!S){if(o=function(e,r,t,o,i){return a[i>>2]=7,a[o>>2]=10,n[t+6|0]=r>>>8,n[t+5|0]=r,n[t+4|0]=e,n[0|t]=1,n[t+1|0]=52,n[t+2|0]=3,n[t+3|0]=0,e=L(t,7),n[t+9|0]=23,n[t+7|0]=e,n[t+8|0]=e>>>8,0}(e,r,t+528|0,t+12|0,t+8|0))break r;r=t+528|0,o=a[t+12>>2],f=a[a[548]+12>>2],e=a[t+8>>2]}if(!S||1==(0|u)){if(i=0|te[0|f](r,o),c=1,1==(0|S))break e;r=i}if(!S){if(r){o=8192|r;break r}o=a[a[548]+8>>2],r=t+16|0}if(!S||2==(0|u)){if(i=0|te[0|o](r,e),c=2,1==(0|S))break e;e=i}if(!S){if(e){o=8192|e;break r}if(o=Y(t+16|0,a[t+8>>2],t+7|0),!(e=s[t+7|0]))break r;o=16384|e}}if(!S)return j=t+1040|0,o;l()}return a[a[A>>2]>>2]=c,a[A>>2]=a[A>>2]+4,i=a[A>>2],a[i>>2]=e,a[i+4>>2]=r,a[i+8>>2]=t,a[i+12>>2]=o,a[i+16>>2]=f,a[A>>2]=a[A>>2]+20,0}function z(e,r,t,o,a,u,c){var l,d=0,p=0,h=0,m=0,v=0,b=0;if(j=l=j-768|0,j=l+768|0,d=3,!(e>>>0<7)&&(d=5,58==s[0|r])){if(1&(d=e-1|0))e=0,p=3;else{for(p=r+1|0,v=d>>>1|0,d=0;(255&(e=(r=s[(m=d<<1)+p|0])-48|0))>>>0<10||(e=(r-97&255)>>>0<=5?r-87|0:(r-65&255)>>>0<6?r-55|0:0),b=e<<4,(255&(e=(r=s[p+(1|m)|0])-48|0))>>>0<10||(e=(r-97&255)>>>0<=5?r-87|0:(r-65&255)>>>0<6?r-55|0:0),n[d+l|0]=e|b,v>>>0>(d=65535&(h=h+1|0))>>>0;);e=65535&h,d=s[l+4|0],r=s[l+3|0],h=s[l+2|0],v=s[l+1|0],m=s[0|l],p=0}if(n[0|t]=m,i[o>>1]=255&h|v<<8,i[u>>1]=255&d|r<<8,n[0|c]=s[(e+l|0)-1|0],d=4,((r=f[u>>1])+6|0)==(0|e)){if(e=p,r)for(d=0;n[a+d|0]=s[5+(d+l|0)|0],(d=d+1|0)>>>0<f[u>>1];);d=e}}return d}function T(e){var r=0,t=0,n=0,o=0,i=0,s=0,f=0,c=0;2==(0|S)&&(a[A>>2]=a[A>>2]-24,r=a[A>>2],e=a[r>>2],n=a[r+8>>2],o=a[r+12>>2],i=a[r+16>>2],t=a[r+4>>2],s=a[r+20>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,f=a[a[A>>2]>>2]),S||(t=(n=a[e+28>>2])>>>0>=u[e+20>>2]);e:{r:{if(!S){if(t)break r;t=a[e+36>>2]}if(!S||!f){if(r=0|te[0|t](e,0,0),1==(0|S))break e;t=r}if(!S){if(t=a[e+20>>2])break r;return-1}}if(!((r=S?s:(t=a[e+4>>2])>>>0<(n=a[e+8>>2])>>>0)|2==(0|S))||(S||(o=r=t-n|0,i=r>>31,t=a[e+40>>2]),S&&1!=(0|f)||(te[0|t](e,o,i,1),c=1,1!=(0|S)))){if(!S)return a[e+28>>2]=0,a[e+16>>2]=0,a[e+20>>2]=0,a[e+4>>2]=0,a[e+8>>2]=0,0;l()}}return a[a[A>>2]>>2]=c,a[A>>2]=a[A>>2]+4,r=a[A>>2],a[r>>2]=e,a[r+4>>2]=t,a[r+8>>2]=n,a[r+12>>2]=o,a[r+16>>2]=i,a[r+20>>2]=s,a[A>>2]=a[A>>2]+24,0}function L(e,r){var t=0,n=0,o=0,i=0;e:{r:{t:{n:{if(1!=a[617]){if(!r)break r;if(n=3&r,r-1>>>0>=3)break n;break t}if(o=0,!r)break e;for(t=65535;i=-31736^(o=t>>>1&32767),n=o,n=(t=1&((o=s[0|e])^t)?i:n)>>>1&32767,n=(t=1&(t^o>>>1)?-31736^n:n)>>>1&32767,n=(t=1&(t^o>>>2)?-31736^n:n)>>>1&32767,n=(t=1&(t^o>>>3)?-31736^n:n)>>>1&32767,n=(t=1&(t^o>>>4)?-31736^n:n)>>>1&32767,n=(t=1&(t^o>>>5)?-31736^n:n)>>>1&32767,n=(t=1&(t^o>>>6)?-31736^n:n)>>>1&32767,t=(1&t)==(o>>>7|0)?n:-31736^n,e=e+1|0,r=r-1|0;);o=(65280&(e=-1^t))>>>8|e<<8;break e}for(r&=-4,o=e;t=65535&(i=s[o+3|0]+(s[o+2|0]+(s[o+1|0]+(s[0|o]+t|0)|0)&65535)|0),o=e=o+4|0,r=r-4|0;);}if(n)for(;t=65535&(i=s[0|e]+t|0),e=e+1|0,n=n-1|0;);}o=0-i|0}return 65535&o}function U(e){var r=0,t=0,n=0,o=0,i=0,s=0;2==(0|S)&&(a[A>>2]=a[A>>2]-12,r=a[A>>2],e=a[r>>2],n=a[r+8>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,o=a[a[A>>2]>>2]);e:{if(2==(0|S)|e){if((r=S?r:a[e+76>>2]<=-1)|2==(0|S)){if(!S||!o){if(t=T(e),1==(0|S))break e;e=t}if(!S)return e}if(!S||1==(0|o)){if(t=T(e),i=1,1==(0|S))break e;e=t}if(!S)return e}if((e=S?e:a[619])|2==(0|S)&&(e=S?e:a[619],!S||2==(0|o))){if(t=U(e),i=2,1==(0|S))break e;r=t}if((e=S?e:a[623])|2==(0|S))for(;;){if((n=S?n:u[e+20>>2]>u[e+28>>2])|2==(0|S)){if(s=r,!S||3==(0|o)){if(t=T(e),i=3,1==(0|S))break e;n=t}r=S?s:r|n}if(S||!(e=a[e+56>>2]))break}if(!S)return r;l()}return a[a[A>>2]>>2]=i,a[A>>2]=a[A>>2]+4,t=a[A>>2],a[t>>2]=e,a[t+4>>2]=r,a[t+8>>2]=n,a[A>>2]=a[A>>2]+12,0}function H(e,r){var t=0;if(r&&(n[(t=e+r|0)-1|0]=0,n[0|e]=0,!(r>>>0<3)&&(n[t-2|0]=0,n[e+1|0]=0,n[t-3|0]=0,n[e+2|0]=0,!(r>>>0<7)&&(n[t-4|0]=0,n[e+3|0]=0,!(r>>>0<9)&&(a[(e=(t=0-e&3)+e|0)>>2]=0,a[(r=(t=r-t&-4)+e|0)-4>>2]=0,!(t>>>0<9)&&(a[e+8>>2]=0,a[e+4>>2]=0,a[r-8>>2]=0,a[r-12>>2]=0,!(t>>>0<25)&&(a[e+24>>2]=0,a[e+20>>2]=0,a[e+16>>2]=0,a[e+12>>2]=0,a[r-16>>2]=0,a[r-20>>2]=0,a[r-24>>2]=0,a[r-28>>2]=0,!((r=(r=t)-(t=4&e|24)|0)>>>0<32))))))))for(e=e+t|0;a[e+24>>2]=0,a[e+28>>2]=0,a[e+16>>2]=0,a[e+20>>2]=0,a[e+8>>2]=0,a[e+12>>2]=0,a[e>>2]=0,a[e+4>>2]=0,e=e+32|0,(r=r-32|0)>>>0>31;);}function q(e,r){var t=0,o=0,i=0,f=0,c=0;2==(0|S)&&(a[A>>2]=a[A>>2]-16,i=a[A>>2],e=a[i>>2],r=a[i+4>>2],o=a[i+8>>2],i=a[i+12>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,c=a[a[A>>2]>>2]),S||(i=1,t=!(f=a[618]));e:{r:{if(!S){if((f=(a[f+76>>2],a[f>>2]))>>>4&1|t)break r;o=a[618]}if(!S||!c){if(t=function(e,r){var t=0,o=0,i=0,f=0,c=0,d=0;2==(0|S)&&(a[A>>2]=a[A>>2]-24,r=a[A>>2],e=a[r>>2],t=a[r+8>>2],i=a[r+12>>2],f=a[r+16>>2],c=a[r+20>>2],r=a[r+4>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,d=a[a[A>>2]>>2]),S||(c=767,f=e,t=a[r+76>>2]);t:{n:{for(;;){o:{if(!S){if(t=!c)break o;if((o=G(t=a[r+4>>2],a[r+8>>2]-t|0))?i=1+(o-(t=a[r+4>>2])|0)|0:(t=a[r+4>>2],i=a[r+8>>2]-t|0),R(f,t,t=i>>>0<c>>>0?i:c),i=a[r+4>>2]+t|0,a[r+4>>2]=i,f=t+f|0,o)break o;if(t=!(c=c-t|0))break o;t=u[r+8>>2]>i>>>0}i:if(S||!t){if(!S||!d){if(o=V(r),1==(0|S))break t;t=o}if(!S){if(i=(0|t)>-1)break i;if(o=t=0,!(16&s[0|r])|(0|e)==(0|f))break n;break o}}else a[r+4>>2]=i+1,t=s[0|i];if(!S&&(n[0|f]=t,f=f+1|0,c=c-1|0,t=10!=(255&t)))continue}break}if(S)e=t;else{if(o=0,!e)break n;n[0|f]=0}o=e}if(t=o,!S)return t;l()}return a[a[A>>2]>>2]=0,a[A>>2]=a[A>>2]+4,o=a[A>>2],a[o>>2]=e,a[o+4>>2]=r,a[o+8>>2]=t,a[o+12>>2]=i,a[o+16>>2]=f,a[o+20>>2]=c,a[A>>2]=a[A>>2]+24,0}(r,o),1==(0|S))break e;o=t}if(!S){if(!o)return a[e>>2]=0,2;if(i=0,o=K(r))for(;;){t:switch(s[(t=o-1|0)+r|0]-10|0){case 0:case 3:break t;default:break r}if(o=t,!t)break}o=0}}if(!S)return a[e>>2]=o,i;l()}return a[a[A>>2]>>2]=0,a[A>>2]=a[A>>2]+4,t=a[A>>2],a[t>>2]=e,a[t+4>>2]=r,a[t+8>>2]=o,a[t+12>>2]=i,a[A>>2]=a[A>>2]+16,0}function W(){var e=0,r=0,t=0,o=0,i=0,s=0,f=0,u=0;2==(0|S)&&(a[A>>2]=a[A>>2]-16,e=a[A>>2],r=a[e>>2],t=a[e+4>>2],o=a[e+8>>2],i=a[e+12>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,s=a[a[A>>2]>>2]);e:{if(S||(j=t=j-528|0,r=!function(e,r,t){return a[t>>2]=7,a[r>>2]=7,n[0|e]=1,n[e+1|0]=59,n[e+2|0]=0,n[e+3|0]=0,r=L(e,4),n[e+6|0]=23,n[e+4|0]=r,n[e+5|0]=r>>>8,0}(t,t+524|0,o=t+520|0)),2==(0|S)|r){if(S||(o=a[a[548]+12>>2],r=a[t+524>>2]),f=i,!S||!s){if(e=0|te[0|o](t,r),1==(0|S))break e;r=e}if(!(i=S?f:r)|2==(0|S)&&(r=S?r:a[a[548]+4>>2],(!S||1==(0|s))&&(te[0|r](),u=1,1==(0|S))))break e}return void(S||(a[548]=0,j=t+528|0))}a[a[A>>2]>>2]=u,a[A>>2]=a[A>>2]+4,e=a[A>>2],a[e>>2]=r,a[e+4>>2]=t,a[e+8>>2]=o,a[e+12>>2]=i,a[A>>2]=a[A>>2]+16}function V(e){var r=0,t=0,o=0,i=0,f=0,c=0,d=0;2==(0|S)&&(a[A>>2]=a[A>>2]-20,r=a[A>>2],e=a[r>>2],i=a[r+4>>2],o=a[r+12>>2],f=a[r+16>>2],r=a[r+8>>2]),2==(0|S)&&(a[A>>2]=a[A>>2]-4,c=a[a[A>>2]>>2]),S||(j=o=j-16|0,i=-1);e:{if(!S||!c){if(t=function(e){var r=0,t=0;2==(0|S)&&(a[A>>2]=a[A>>2]-8,r=a[A>>2],e=a[r>>2],r=a[r+4>>2]);2==(0|S)&&(a[A>>2]=a[A>>2]-4,t=a[a[A>>2]>>2]);if(S||(r=s[e+74|0],n[e+74|0]=r|r-1,r=u[e+20>>2]>u[e+28>>2]),!(2==(0|S)|r)||(r=S?r:a[e+36>>2],S&&t||(te[0|r](e,0,0),1!=(0|S)))){if(!S)return a[e+28>>2]=0,a[e+16>>2]=0,a[e+20>>2]=0,4&(r=a[e>>2])?(a[e>>2]=32|r,-1):(t=a[e+44>>2]+a[e+48>>2]|0,a[e+8>>2]=t,a[e+4>>2]=t,r<<27>>31);l()}return a[a[A>>2]>>2]=0,a[A>>2]=a[A>>2]+4,t=a[A>>2],a[t>>2]=e,a[t+4>>2]=r,a[A>>2]=a[A>>2]+8,0}(e),1==(0|S))break e;r=t}r:{if(!S){if(r)break r;f=a[e+32>>2],r=o+15|0}if(!S||1==(0|c)){if(t=0|te[0|f](e,r,1),d=1,1==(0|S))break e;e=t}if(!S){if(1!=(0|e))break r;i=s[o+15|0]}}if(!S)return j=o+16|0,i;l()}return a[a[A>>2]>>2]=d,a[A>>2]=a[A>>2]+4,t=a[A>>2],a[t>>2]=e,a[t+4>>2]=i,a[t+8>>2]=r,a[t+12>>2]=o,a[t+16>>2]=f,a[A>>2]=a[A>>2]+20,0}function X(e,r,t,o,i){var f=0,u=0,c=0;if(a[i>>2]=7,a[o>>2]=r+7,n[t+3|0]=r>>>8,n[t+2|0]=r,n[0|t]=1,n[t+1|0]=55,r){if(f=3&r,i=0,r-1>>>0>=3)for(u=65532&r,r=0;n[(i=r+4|0)+t|0]=s[e+r|0],n[(c=r+t|0)+5|0]=s[(1|r)+e|0],n[c+6|0]=s[(2|r)+e|0],n[c+7|0]=s[(3|r)+e|0],r=i,u=u-4|0;);if(f)for(;n[4+(t+i|0)|0]=s[e+i|0],i=i+1|0,f=f-1|0;);}return e=L(t,r=a[o>>2]-3|0),n[r+t|0]=e,n[(a[o>>2]+t|0)-2|0]=e>>>8,n[(a[o>>2]+t|0)-1|0]=23,0}function G(e,r){var t=0;t=0!=(0|r);e:{r:{t:if(!(!r|!(3&e)))for(;;){if(10==s[0|e])break r;if(e=e+1|0,t=0!=(0|(r=r-1|0)),!r)break t;if(!(3&e))break}if(!t)break e}r:if(!(10==s[0|e]|r>>>0<4))for(;;){if((-1^(t=168430090^a[e>>2]))&t-16843009&-2139062144)break r;if(e=e+4|0,!((r=r-4|0)>>>0>3))break}if(r)for(;;){if(10==s[0|e])return e;if(e=e+1|0,!(r=r-1|0))break}}return 0}function K(e){var r=0,t=0,n=0;e:{r:if(3&(r=e)){if(!s[0|e])return 0;for(;;){if(!(3&(r=r+1|0)))break r;if(!s[0|r])break}break e}for(;t=r,r=r+4|0,!((-1^(n=a[t>>2]))&n-16843009&-2139062144););if(!(255&n))return t-e|0;for(;n=s[t+1|0],t=r=t+1|0,n;);}return r-e|0}function J(e,r,t,o){var i=0;if(i=3,8==(0|r)){if(r=s[e+1|0])return n[0|o]=r,16384|r;i=4,1!=s[0|e]|1!=s[e+2|0]|s[e+3|0]|23!=s[e+7|0]||(n[0|t]=s[e+4|0],n[0|o]=s[e+1|0],i=0)}return i}function Q(e){var r,n;return(e=(r=a[264])+(n=e+3&-4)|0)>>>0<=r>>>0&&(0|n)>=1||e>>>0>(t.byteLength/65536|0)<<16>>>0&&!(0|_(0|e))?(a[620]=48,-1):(a[264]=e,r)}function Y(e,r,t){var o=0;if(o=3,7==(0|r)){if(r=s[e+1|0])return n[0|t]=r,16384|r;o=4,s[e+2|0]|1!=s[0|e]|s[e+3|0]|23!=s[e+6|0]||(o=0,n[0|t]=0)}return o}function Z(e){var r;return(-1>>>(r=31&e)&-2)<<r|(-1<<(e=0-e&31)&-2)>>>e}function $(e,r){return e=function(e,r){var t=0,n=0;e:{if(n=255&r){if(3&e)for(;;){if(!(t=s[0|e])|(0|t)==(255&r))break e;if(!(3&(e=e+1|0)))break}r:if(!((-1^(t=a[e>>2]))&t-16843009&-2139062144))for(n=c(n,16843009);;){if((-1^(t^=n))&t-16843009&-2139062144)break r;if(t=a[e+4>>2],e=e+4|0,t-16843009&(-1^t)&-2139062144)break}for(;(n=s[0|(t=e)])&&(e=t+1|0,(0|n)!=(255&r)););return t}return K(e)+e|0}return e}(e,r),s[0|e]==(255&r)?e:0}function ee(){S=0,u[A>>2]>u[A+4>>2]&&l()}o(r=s,1024,"cgByd2EAcndh"),o(r,1036,"AgAAAAMAAAAEAAAABQAAAEAAAADwC1A=");var re,te=((re=[null,D,x,y,w,k,function(e,r,t,n){var o;return r|=0,t|=0,n|=0,j=o=j-16|0,e=0|g(a[60+(e|=0)>>2],0|r,0|t,255&n,o+8|0),n=0,e&&(a[620]=e,n=-1),j=o+16|0,0|(n?-1:a[o+8>>2])},function(e,r,t){r|=0,t|=0;var n,o=0,i=0,s=0,f=0,u=0,c=0;j=n=j-32|0,i=a[28+(e|=0)>>2],a[n+16>>2]=i,o=a[e+20>>2],a[n+28>>2]=t,a[n+24>>2]=r,r=o-i|0,a[n+20>>2]=r,i=r+t|0,c=2,r=n+16|0;e:{r:{(o=0|h(a[e+60>>2],n+16|0,2,n+12|0))?(a[620]=o,o=-1):o=0;t:{if(!o)for(;;){if((0|(o=a[n+12>>2]))==(0|i))break t;if((0|o)<=-1)break r;if(s=o-((f=(s=a[r+4>>2])>>>0<o>>>0)?s:0)|0,a[(u=(f<<3)+r|0)>>2]=s+a[u>>2],a[(u=(f?12:4)+r|0)>>2]=a[u>>2]-s,i=i-o|0,r=f?r+8|0:r,c=c-f|0,(o=0|h(a[e+60>>2],0|r,0|c,n+12|0))?(a[620]=o,o=-1):o=0,o)break}if(-1!=(0|i))break r}r=a[e+44>>2],a[e+28>>2]=r,a[e+20>>2]=r,a[e+16>>2]=r+a[e+48>>2],e=t;break e}a[e+28>>2]=0,a[e+16>>2]=0,a[e+20>>2]=0,a[e>>2]=32|a[e>>2],e=0,2!=(0|c)&&(e=t-a[r+4>>2]|0)}return j=n+32|0,0|e},function(e,r,t){e|=0,r|=0,t|=0;var o,i=0,f=0,u=0;return j=o=j-32|0,a[o+16>>2]=r,f=a[e+48>>2],a[o+20>>2]=t-(0!=(0|f)),i=a[e+44>>2],a[o+28>>2]=f,a[o+24>>2]=i,f=-1,(i=0|m(a[e+60>>2],o+16|0,2,o+12|0))?(a[620]=i,i=-1):i=0,!i&&(0|(f=a[o+12>>2]))>0?(u=a[o+20>>2])>>>0>=f>>>0||(i=a[e+44>>2],a[e+4>>2]=i,a[e+8>>2]=i+(f-u|0),a[e+48>>2]&&(a[e+4>>2]=i+1,n[(r+t|0)-1|0]=s[0|i]),f=t):a[e>>2]=a[e>>2]|48&f^16,j=o+32|0,0|f},function(e){return 0|p(a[60+(e|=0)>>2])}]).set=function(e,r){this[e]=r},re.get=function(e){return this[e]},re);return{p:function(){},q:function(e){e|=0;var r=0;2==(0|S)&&(a[A>>2]=a[A>>2]-4,e=a[a[A>>2]>>2]);e:{if(2==(0|S)?(a[A>>2]=a[A>>2]-4,r=a[a[A>>2]>>2]):r=0,!S||!r){if(r=F(0,e,1),1==(0|S))break e;e=r}if(!S)return 0|e;l()}return a[a[A>>2]>>2]=0,a[A>>2]=a[A>>2]+4,a[a[A>>2]>>2]=e,a[A>>2]=a[A>>2]+4,0},r:function(e){e|=0;var r=0;2==(0|S)&&(a[A>>2]=a[A>>2]-4,e=a[a[A>>2]>>2]);e:{if(2==(0|S)?(a[A>>2]=a[A>>2]-4,r=a[a[A>>2]>>2]):r=0,!S||!r){if(r=F(2,e,0),1==(0|S))break e;e=r}if(!S)return 0|e;l()}return a[a[A>>2]>>2]=0,a[A>>2]=a[A>>2]+4,a[a[A>>2]>>2]=e,a[A>>2]=a[A>>2]+4,0},s:function(e){e|=0;var r=0;2==(0|S)&&(a[A>>2]=a[A>>2]-4,e=a[a[A>>2]>>2]);e:{if(2==(0|S)?(a[A>>2]=a[A>>2]-4,r=a[a[A>>2]>>2]):r=0,!S||!r){if(r=F(1,e,0),1==(0|S))break e;e=r}if(!S)return 0|e;l()}return a[a[A>>2]>>2]=0,a[A>>2]=a[A>>2]+4,a[a[A>>2]>>2]=e,a[A>>2]=a[A>>2]+4,0},t:te,u:function(){return 2480},v:P,w:O,x:function(){return 0|j},y:function(e){j=e|=0},z:function(e){return j=e=j-(e|=0)&-16,0|e},A:function(e){S=1,u[(A=e|=0)>>2]>u[A+4>>2]&&l()},B:ee,C:function(e){S=2,u[(A=e|=0)>>2]>u[A+4>>2]&&l()},D:ee}}(e)}(ar)},instantiate:function(e,r){return{then:function(r){var t=new P.Module(e);r({instance:new P.Instance(t)})}}},RuntimeError:Error};S=[],"object"!==typeof P&&le("no native wasm support detected");var C=!1;function M(e,r){e||le("Assertion failed: "+r)}function R(e){var r=l["_"+e];return M(r,"Cannot call unknown function "+e+", make sure it is exported"),r}function B(e,r,t,n,o){var i={string:function(e){var r=0;if(null!==e&&void 0!==e&&0!==e){var t=1+(e.length<<2);V(e,r=pr(t),t)}return r},array:function(e){var r=pr(e.length);return G(e,r),r}};function a(e){return"string"===r?q(e):"boolean"===r?Boolean(e):e}var s=R(e),f=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[t[c]];l?(0===u&&(u=lr()),f[c]=l(n[c])):f[c]=n[c]}var d=s.apply(null,f),p=(o&&o.async,"object"===typeof Je&&Je.currData),h="object"===typeof Je&&Je.asyncFinalizers.length>0;return p&&!h?new Promise((function(e){Je.asyncFinalizers.push((function(r){0!==u&&dr(u),e(a(r))}))})):(d=a(d),0!==u&&dr(u),o&&o.async?Promise.resolve(d):d)}var I,N,z,T,L,U="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function H(e,r,t){for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.subarray&&U)return U.decode(e.subarray(r,o));for(var i="";r<o;){var a=e[r++];if(128&a){var s=63&e[r++];if(192!=(224&a)){var f=63&e[r++];if((a=224==(240&a)?(15&a)<<12|s<<6|f:(7&a)<<18|s<<12|f<<6|63&e[r++])<65536)i+=String.fromCharCode(a);else{var u=a-65536;i+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function q(e,r){return e?H(z,e,r):""}function W(e,r,t,n){if(!(n>0))return 0;for(var o=t,i=t+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(t>=i)break;r[t++]=s}else if(s<=2047){if(t+1>=i)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(t+2>=i)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(t+3>=i)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o}function V(e,r,t){return W(e,z,r,t)}function X(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++t)),n<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}function G(e,r){N.set(e,r)}function K(e){I=e,l.HEAP8=N=new Int8Array(e),l.HEAP16=T=new Int16Array(e),l.HEAP32=L=new Int32Array(e),l.HEAPU8=z=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAPU32=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=new Float64Array(e)}var J=l.INITIAL_MEMORY||16777216;(F=l.wasmMemory?l.wasmMemory:new P.Memory({initial:J/65536,maximum:J/65536}))&&(I=F.buffer),J=I.byteLength,K(I);var Q=[],Y=[],Z=[],$=[];function ee(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)oe(l.preRun.shift());Ae(Q)}function re(){!0,l.noFSInit||Ie.init.initialized||Ie.init(),Me.init(),Ae(Y)}function te(){Ie.ignorePermissions=!1,Ae(Z)}function ne(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)ie(l.postRun.shift());Ae($)}function oe(e){Q.unshift(e)}function ie(e){$.unshift(e)}Y.push({func:function(){sr()}});var ae=0,se=null,fe=null;function ue(e){ae++,l.monitorRunDependencies&&l.monitorRunDependencies(ae)}function ce(e){if(ae--,l.monitorRunDependencies&&l.monitorRunDependencies(ae),0==ae&&(null!==se&&(clearInterval(se),se=null),fe)){var r=fe;fe=null,r()}}function le(e){throw l.onAbort&&l.onAbort(e),j(e+=""),C=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new P.RuntimeError(e)}function de(e,r){return String.prototype.startsWith?e.startsWith(r):0===e.indexOf(r)}l.preloadedImages={},l.preloadedAudios={};var pe="data:application/octet-stream;base64,";function he(e){return de(e,pe)}var me="file://";function ve(e){return de(e,me)}var be,ke,we="cybtldr.wasm";function ye(e){try{if(e==we&&S)return new Uint8Array(S);var r=or(e);if(r)return r;if(y)return y(e);throw"both async and sync fetching of the wasm failed"}catch(j){le(j)}}function ge(){if(!S&&(h||m)){if("function"===typeof fetch&&!ve(we))return fetch(we,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+we+"'";return e.arrayBuffer()})).catch((function(){return ye(we)}));if(w)return new Promise((function(e,r){w(we,(function(r){e(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return ye(we)}))}function Ee(){var e={a:ar};function r(e,r){var t=e.exports;t=Je.instrumentWasmExports(t),l.asm=t,l.asm.t,ce()}function t(e){r(e.instance)}function n(r){return ge().then((function(r){return P.instantiate(r,e)})).then(r,(function(e){j("failed to asynchronously prepare wasm: "+e),le(e)}))}if(ue(),l.instantiateWasm)try{var o=l.instantiateWasm(e,r);return o=Je.instrumentWasmExports(o)}catch(i){return j("Module.instantiateWasm callback failed with error: "+i),!1}return S||"function"!==typeof P.instantiateStreaming||he(we)||ve(we)||"function"!==typeof fetch?n(t):fetch(we,{credentials:"same-origin"}).then((function(r){return P.instantiateStreaming(r,e).then(t,(function(e){return j("wasm streaming compile failed: "+e),j("falling back to ArrayBuffer instantiation"),n(t)}))})),{}}function _e(){return Je.handleAsync(c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.activeDevice._close();case 3:return e.abrupt("return",0);case 6:return e.prev=6,e.t0=e.catch(0),l.activeDevice._message("HID close failed: ".concat(e.t0.message)),e.abrupt("return",1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))))}function xe(){return Je.handleAsync(c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.activeDevice._open();case 3:return e.abrupt("return",0);case 6:return e.prev=6,e.t0=e.catch(0),l.activeDevice._message("HID open failed: ".concat(e.t0.message)),e.abrupt("return",1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))))}function De(e,r){l.activeDevice._message("HID write progress: array ".concat(e," row ").concat(r))}function je(e,r){return Je.handleAsync(c(u.mark((function t(){var n;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.activeDevice._read();case 3:return n=t.sent,l.HEAPU8.set(n.subarray(0,r),e),t.abrupt("return",0);case 8:return t.prev=8,t.t0=t.catch(0),l.activeDevice._message("HID read failed: ".concat(t.t0.message)),t.abrupt("return",1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))))}function Se(e,r){return Je.handleAsync(c(u.mark((function t(){var n;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=l.HEAPU8.subarray(e,e+r),t.next=4,l.activeDevice._write(n);case 4:return t.abrupt("return",0);case 7:return t.prev=7,t.t0=t.catch(0),l.activeDevice._message("HID write failed: ".concat(t.t0.message)),t.abrupt("return",1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))))}function Ae(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"===typeof t?void 0===r.arg?dynCall_v.call(null,t):(n=r.arg,dynCall_vi.apply(null,[t,n])):t(void 0===r.arg?null:r.arg)}else r(l)}var n}function Oe(e){return L[fr()>>2]=e,e}he(we)||(we=x(we));var Fe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=Fe.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Fe.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=Fe.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return Fe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Fe.normalize(e.join("/"))},join2:function(e,r){return Fe.normalize(e+"/"+r)}};function Pe(){if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(v)try{var r=t(192);return function(){return r.randomBytes(1)[0]}}catch(n){}return function(){le("randomDevice")}}var Ce={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:Ie.cwd();if("string"!==typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=Fe.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=Ce.resolve(e).substr(1),r=Ce.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var f=[];for(s=a;s<n.length;s++)f.push("..");return(f=f.concat(o.slice(a))).join("/")}},Me={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Me.ttys[e]={input:[],output:[],ops:r},Ie.registerDevice(e,Me.stream_ops)},stream_ops:{open:function(e){var r=Me.ttys[e.node.rdev];if(!r)throw new Ie.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Ie.ErrnoError(60);for(var i=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(f){throw new Ie.ErrnoError(29)}if(void 0===s&&0===i)throw new Ie.ErrnoError(6);if(null===s||void 0===s)break;i++,r[t+a]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Ie.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,r[t+i])}catch(a){throw new Ie.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(v){var n=o.alloc?o.alloc(256):new o(256),i=0;try{i=g.readSync(r.stdin.fd,n,0,256,null)}catch(a){if(-1==a.toString().indexOf("EOF"))throw a;i=0}t=i>0?n.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=er(t,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(D(H(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(D(H(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(j(H(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(j(H(e.output,0)),e.output=[])}}};function Re(e){for(var r=O(e,16384),t=cr(r);e<r;)N[t+e++]=0;return t}var Be={ops_table:null,mount:function(e){return Be.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(Ie.isBlkdev(t)||Ie.isFIFO(t))throw new Ie.ErrnoError(63);Be.ops_table||(Be.ops_table={dir:{node:{getattr:Be.node_ops.getattr,setattr:Be.node_ops.setattr,lookup:Be.node_ops.lookup,mknod:Be.node_ops.mknod,rename:Be.node_ops.rename,unlink:Be.node_ops.unlink,rmdir:Be.node_ops.rmdir,readdir:Be.node_ops.readdir,symlink:Be.node_ops.symlink},stream:{llseek:Be.stream_ops.llseek}},file:{node:{getattr:Be.node_ops.getattr,setattr:Be.node_ops.setattr},stream:{llseek:Be.stream_ops.llseek,read:Be.stream_ops.read,write:Be.stream_ops.write,allocate:Be.stream_ops.allocate,mmap:Be.stream_ops.mmap,msync:Be.stream_ops.msync}},link:{node:{getattr:Be.node_ops.getattr,setattr:Be.node_ops.setattr,readlink:Be.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Be.node_ops.getattr,setattr:Be.node_ops.setattr},stream:Ie.chrdev_stream_ops}});var o=Ie.createNode(e,r,t,n);return Ie.isDir(o.mode)?(o.node_ops=Be.ops_table.dir.node,o.stream_ops=Be.ops_table.dir.stream,o.contents={}):Ie.isFile(o.mode)?(o.node_ops=Be.ops_table.file.node,o.stream_ops=Be.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ie.isLink(o.mode)?(o.node_ops=Be.ops_table.link.node,o.stream_ops=Be.ops_table.link.stream):Ie.isChrdev(o.mode)&&(o.node_ops=Be.ops_table.chrdev.node,o.stream_ops=Be.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ie.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ie.isDir(e.mode)?r.size=4096:Ie.isFile(e.mode)?r.size=e.usedBytes:Ie.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Be.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ie.genericErrors[44]},mknod:function(e,r,t,n){return Be.createNode(e,r,t,n)},rename:function(e,r,t){if(Ie.isDir(e.mode)){var n;try{n=Ie.lookupNode(r,t)}catch(i){}if(n)for(var o in n.contents)throw new Ie.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=Ie.lookupNode(e,r);for(var n in t.contents)throw new Ie.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=Be.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!Ie.isLink(e.mode))throw new Ie.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(a>8&&i.subarray)r.set(i.subarray(o,o+a),t);else for(var s=0;s<a;s++)r[t+s]=i[o+s];return a},write:function(e,r,t,n,o,i){if(!n)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=r.subarray(t,t+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=r.slice(t,t+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(r.subarray(t,t+n),o),n}if(Be.expandFileStorage(a,o+n),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)a.contents[o+s]=r[t+s];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Ie.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ie.ErrnoError(28);return n},allocate:function(e,r,t){Be.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,i){if(0!==r)throw new Ie.ErrnoError(28);if(!Ie.isFile(e.node.mode))throw new Ie.ErrnoError(43);var a,s,f=e.node.contents;if(2&i||f.buffer!==I){if((n>0||n+t<f.length)&&(f=f.subarray?f.subarray(n,n+t):Array.prototype.slice.call(f,n,n+t)),s=!0,!(a=Re(t)))throw new Ie.ErrnoError(48);N.set(f,a)}else s=!1,a=f.byteOffset;return{ptr:a,allocated:s}},msync:function(e,r,t,n,o){if(!Ie.isFile(e.node.mode))throw new Ie.ErrnoError(43);if(2&o)return 0;Be.stream_ops.write(e,r,0,n,t,!1);return 0}}},Ie={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,r){if(r=r||{},!(e=Ce.resolve(Ie.cwd(),e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var n in t)void 0===r[n]&&(r[n]=t[n]);if(r.recurse_count>8)throw new Ie.ErrnoError(32);for(var o=Fe.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),i=Ie.root,a="/",s=0;s<o.length;s++){var f=s===o.length-1;if(f&&r.parent)break;if(i=Ie.lookupNode(i,o[s]),a=Fe.join2(a,o[s]),Ie.isMountpoint(i)&&(!f||f&&r.follow_mount)&&(i=i.mounted.root),!f||r.follow)for(var u=0;Ie.isLink(i.mode);){var c=Ie.readlink(a);if(a=Ce.resolve(Fe.dirname(a),c),i=Ie.lookupPath(a,{recurse_count:r.recurse_count}).node,u++>40)throw new Ie.ErrnoError(32)}}return{path:a,node:i}},getPath:function(e){for(var r;;){if(Ie.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%Ie.nameTable.length},hashAddNode:function(e){var r=Ie.hashName(e.parent.id,e.name);e.name_next=Ie.nameTable[r],Ie.nameTable[r]=e},hashRemoveNode:function(e){var r=Ie.hashName(e.parent.id,e.name);if(Ie.nameTable[r]===e)Ie.nameTable[r]=e.name_next;else for(var t=Ie.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=Ie.mayLookup(e);if(t)throw new Ie.ErrnoError(t,e);for(var n=Ie.hashName(e.id,r),o=Ie.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===r)return o}return Ie.lookup(e,r)},createNode:function(e,r,t,n){var o=new Ie.FSNode(e,r,t,n);return Ie.hashAddNode(o),o},destroyNode:function(e){Ie.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var r=Ie.flagModes[e];if("undefined"===typeof r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Ie.ignorePermissions||(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Ie.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{Ie.lookupNode(e,r);return 20}catch(t){}return Ie.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=Ie.lookupNode(e,r)}catch(i){return i.errno}var o=Ie.nodePermissions(e,"wx");if(o)return o;if(t){if(!Ie.isDir(n.mode))return 54;if(Ie.isRoot(n)||Ie.getPath(n)===Ie.cwd())return 10}else if(Ie.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?Ie.isLink(e.mode)?32:Ie.isDir(e.mode)&&("r"!==Ie.flagsToPermissionString(r)||512&r)?31:Ie.nodePermissions(e,Ie.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||Ie.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!Ie.streams[t])return t;throw new Ie.ErrnoError(33)},getStream:function(e){return Ie.streams[e]},createStream:function(e,r,t){Ie.FSStream||(Ie.FSStream=function(){},Ie.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new Ie.FSStream;for(var o in e)n[o]=e[o];e=n;var i=Ie.nextfd(r,t);return e.fd=i,Ie.streams[i]=e,e},closeStream:function(e){Ie.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Ie.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ie.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Ie.devices[e]={stream_ops:r}},getDevice:function(e){return Ie.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(e,r){"function"===typeof e&&(r=e,e=!1),Ie.syncFSRequests++,Ie.syncFSRequests>1&&j("warning: "+Ie.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=Ie.getMounts(Ie.root.mount),n=0;function o(e){return Ie.syncFSRequests--,r(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++n>=t.length&&o(null)}t.forEach((function(r){if(!r.type.syncfs)return i(null);r.type.syncfs(r,e,i)}))},mount:function(e,r,t){var n,o="/"===t,i=!t;if(o&&Ie.root)throw new Ie.ErrnoError(10);if(!o&&!i){var a=Ie.lookupPath(t,{follow_mount:!1});if(t=a.path,n=a.node,Ie.isMountpoint(n))throw new Ie.ErrnoError(10);if(!Ie.isDir(n.mode))throw new Ie.ErrnoError(54)}var s={type:e,opts:r,mountpoint:t,mounts:[]},f=e.mount(s);return f.mount=s,s.root=f,o?Ie.root=f:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),f},unmount:function(e){var r=Ie.lookupPath(e,{follow_mount:!1});if(!Ie.isMountpoint(r.node))throw new Ie.ErrnoError(28);var t=r.node,n=t.mounted,o=Ie.getMounts(n);Object.keys(Ie.nameTable).forEach((function(e){for(var r=Ie.nameTable[e];r;){var t=r.name_next;-1!==o.indexOf(r.mount)&&Ie.destroyNode(r),r=t}})),t.mounted=null;var i=t.mount.mounts.indexOf(n);t.mount.mounts.splice(i,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=Ie.lookupPath(e,{parent:!0}).node,o=Fe.basename(e);if(!o||"."===o||".."===o)throw new Ie.ErrnoError(28);var i=Ie.mayCreate(n,o);if(i)throw new Ie.ErrnoError(i);if(!n.node_ops.mknod)throw new Ie.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Ie.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Ie.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{Ie.mkdir(n,r)}catch(i){if(20!=i.errno)throw i}}},mkdev:function(e,r,t){return"undefined"===typeof t&&(t=r,r=438),r|=8192,Ie.mknod(e,r,t)},symlink:function(e,r){if(!Ce.resolve(e))throw new Ie.ErrnoError(44);var t=Ie.lookupPath(r,{parent:!0}).node;if(!t)throw new Ie.ErrnoError(44);var n=Fe.basename(r),o=Ie.mayCreate(t,n);if(o)throw new Ie.ErrnoError(o);if(!t.node_ops.symlink)throw new Ie.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(e,r){var t,n,o=Fe.dirname(e),i=Fe.dirname(r),a=Fe.basename(e),s=Fe.basename(r);if(t=Ie.lookupPath(e,{parent:!0}).node,n=Ie.lookupPath(r,{parent:!0}).node,!t||!n)throw new Ie.ErrnoError(44);if(t.mount!==n.mount)throw new Ie.ErrnoError(75);var f,u=Ie.lookupNode(t,a),c=Ce.relative(e,i);if("."!==c.charAt(0))throw new Ie.ErrnoError(28);if("."!==(c=Ce.relative(r,o)).charAt(0))throw new Ie.ErrnoError(55);try{f=Ie.lookupNode(n,s)}catch(p){}if(u!==f){var l=Ie.isDir(u.mode),d=Ie.mayDelete(t,a,l);if(d)throw new Ie.ErrnoError(d);if(d=f?Ie.mayDelete(n,s,l):Ie.mayCreate(n,s))throw new Ie.ErrnoError(d);if(!t.node_ops.rename)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(u)||f&&Ie.isMountpoint(f))throw new Ie.ErrnoError(10);if(n!==t&&(d=Ie.nodePermissions(t,"w")))throw new Ie.ErrnoError(d);try{Ie.trackingDelegate.willMovePath&&Ie.trackingDelegate.willMovePath(e,r)}catch(p){j("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+p.message)}Ie.hashRemoveNode(u);try{t.node_ops.rename(u,n,s)}catch(p){throw p}finally{Ie.hashAddNode(u)}try{Ie.trackingDelegate.onMovePath&&Ie.trackingDelegate.onMovePath(e,r)}catch(p){j("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+p.message)}}},rmdir:function(e){var r=Ie.lookupPath(e,{parent:!0}).node,t=Fe.basename(e),n=Ie.lookupNode(r,t),o=Ie.mayDelete(r,t,!0);if(o)throw new Ie.ErrnoError(o);if(!r.node_ops.rmdir)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(n))throw new Ie.ErrnoError(10);try{Ie.trackingDelegate.willDeletePath&&Ie.trackingDelegate.willDeletePath(e)}catch(i){j("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}r.node_ops.rmdir(r,t),Ie.destroyNode(n);try{Ie.trackingDelegate.onDeletePath&&Ie.trackingDelegate.onDeletePath(e)}catch(i){j("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readdir:function(e){var r=Ie.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ie.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Ie.lookupPath(e,{parent:!0}).node,t=Fe.basename(e),n=Ie.lookupNode(r,t),o=Ie.mayDelete(r,t,!1);if(o)throw new Ie.ErrnoError(o);if(!r.node_ops.unlink)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(n))throw new Ie.ErrnoError(10);try{Ie.trackingDelegate.willDeletePath&&Ie.trackingDelegate.willDeletePath(e)}catch(i){j("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}r.node_ops.unlink(r,t),Ie.destroyNode(n);try{Ie.trackingDelegate.onDeletePath&&Ie.trackingDelegate.onDeletePath(e)}catch(i){j("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readlink:function(e){var r=Ie.lookupPath(e).node;if(!r)throw new Ie.ErrnoError(44);if(!r.node_ops.readlink)throw new Ie.ErrnoError(28);return Ce.resolve(Ie.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var t=Ie.lookupPath(e,{follow:!r}).node;if(!t)throw new Ie.ErrnoError(44);if(!t.node_ops.getattr)throw new Ie.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return Ie.stat(e,!0)},chmod:function(e,r,t){var n;"string"===typeof e?n=Ie.lookupPath(e,{follow:!t}).node:n=e;if(!n.node_ops.setattr)throw new Ie.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,r){Ie.chmod(e,r,!0)},fchmod:function(e,r){var t=Ie.getStream(e);if(!t)throw new Ie.ErrnoError(8);Ie.chmod(t.node,r)},chown:function(e,r,t,n){var o;"string"===typeof e?o=Ie.lookupPath(e,{follow:!n}).node:o=e;if(!o.node_ops.setattr)throw new Ie.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,r,t){Ie.chown(e,r,t,!0)},fchown:function(e,r,t){var n=Ie.getStream(e);if(!n)throw new Ie.ErrnoError(8);Ie.chown(n.node,r,t)},truncate:function(e,r){if(r<0)throw new Ie.ErrnoError(28);var t;"string"===typeof e?t=Ie.lookupPath(e,{follow:!0}).node:t=e;if(!t.node_ops.setattr)throw new Ie.ErrnoError(63);if(Ie.isDir(t.mode))throw new Ie.ErrnoError(31);if(!Ie.isFile(t.mode))throw new Ie.ErrnoError(28);var n=Ie.nodePermissions(t,"w");if(n)throw new Ie.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var t=Ie.getStream(e);if(!t)throw new Ie.ErrnoError(8);if(0===(2097155&t.flags))throw new Ie.ErrnoError(28);Ie.truncate(t.node,r)},utime:function(e,r,t){var n=Ie.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:function(e,r,t,n,o){if(""===e)throw new Ie.ErrnoError(44);var i;if(t="undefined"===typeof t?438:t,t=64&(r="string"===typeof r?Ie.modeStringToFlags(r):r)?4095&t|32768:0,"object"===typeof e)i=e;else{e=Fe.normalize(e);try{i=Ie.lookupPath(e,{follow:!(131072&r)}).node}catch(c){}}var a=!1;if(64&r)if(i){if(128&r)throw new Ie.ErrnoError(20)}else i=Ie.mknod(e,t,0),a=!0;if(!i)throw new Ie.ErrnoError(44);if(Ie.isChrdev(i.mode)&&(r&=-513),65536&r&&!Ie.isDir(i.mode))throw new Ie.ErrnoError(54);if(!a){var s=Ie.mayOpen(i,r);if(s)throw new Ie.ErrnoError(s)}512&r&&Ie.truncate(i,0),r&=-131713;var f=Ie.createStream({node:i,path:Ie.getPath(i),flags:r,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,o);f.stream_ops.open&&f.stream_ops.open(f),!l.logReadFiles||1&r||(Ie.readFiles||(Ie.readFiles={}),e in Ie.readFiles||(Ie.readFiles[e]=1,j("FS.trackingDelegate error on read file: "+e)));try{if(Ie.trackingDelegate.onOpenFile){var u=0;1!==(2097155&r)&&(u|=Ie.tracking.openFlags.READ),0!==(2097155&r)&&(u|=Ie.tracking.openFlags.WRITE),Ie.trackingDelegate.onOpenFile(e,u)}}catch(c){j("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+c.message)}return f},close:function(e){if(Ie.isClosed(e))throw new Ie.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{Ie.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ie.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new Ie.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,o){if(n<0||o<0)throw new Ie.ErrnoError(28);if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(1===(2097155&e.flags))throw new Ie.ErrnoError(8);if(Ie.isDir(e.node.mode))throw new Ie.ErrnoError(31);if(!e.stream_ops.read)throw new Ie.ErrnoError(28);var i="undefined"!==typeof o;if(i){if(!e.seekable)throw new Ie.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,r,t,n,o);return i||(e.position+=a),a},write:function(e,r,t,n,o,i){if(n<0||o<0)throw new Ie.ErrnoError(28);if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(0===(2097155&e.flags))throw new Ie.ErrnoError(8);if(Ie.isDir(e.node.mode))throw new Ie.ErrnoError(31);if(!e.stream_ops.write)throw new Ie.ErrnoError(28);e.seekable&&1024&e.flags&&Ie.llseek(e,0,2);var a="undefined"!==typeof o;if(a){if(!e.seekable)throw new Ie.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,r,t,n,o,i);a||(e.position+=s);try{e.path&&Ie.trackingDelegate.onWriteToFile&&Ie.trackingDelegate.onWriteToFile(e.path)}catch(f){j("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+f.message)}return s},allocate:function(e,r,t){if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(r<0||t<=0)throw new Ie.ErrnoError(28);if(0===(2097155&e.flags))throw new Ie.ErrnoError(8);if(!Ie.isFile(e.node.mode)&&!Ie.isDir(e.node.mode))throw new Ie.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ie.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,o,i){if(0!==(2&o)&&0===(2&i)&&2!==(2097155&e.flags))throw new Ie.ErrnoError(2);if(1===(2097155&e.flags))throw new Ie.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ie.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,i)},msync:function(e,r,t,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new Ie.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=Ie.open(e,r.flags),o=Ie.stat(e).size,i=new Uint8Array(o);return Ie.read(n,i,0,o,0),"utf8"===r.encoding?t=H(i,0):"binary"===r.encoding&&(t=i),Ie.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||577;var n=Ie.open(e,t.flags,t.mode);if("string"===typeof r){var o=new Uint8Array(X(r)+1),i=W(r,o,0,o.length);Ie.write(n,o,0,i,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ie.write(n,r,0,r.byteLength,void 0,t.canOwn)}Ie.close(n)},cwd:function(){return Ie.currentPath},chdir:function(e){var r=Ie.lookupPath(e,{follow:!0});if(null===r.node)throw new Ie.ErrnoError(44);if(!Ie.isDir(r.node.mode))throw new Ie.ErrnoError(54);var t=Ie.nodePermissions(r.node,"x");if(t)throw new Ie.ErrnoError(t);Ie.currentPath=r.path},createDefaultDirectories:function(){Ie.mkdir("/tmp"),Ie.mkdir("/home"),Ie.mkdir("/home/web_user")},createDefaultDevices:function(){Ie.mkdir("/dev"),Ie.registerDevice(Ie.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,o){return n}}),Ie.mkdev("/dev/null",Ie.makedev(1,3)),Me.register(Ie.makedev(5,0),Me.default_tty_ops),Me.register(Ie.makedev(6,0),Me.default_tty1_ops),Ie.mkdev("/dev/tty",Ie.makedev(5,0)),Ie.mkdev("/dev/tty1",Ie.makedev(6,0));var e=Pe();Ie.createDevice("/dev","random",e),Ie.createDevice("/dev","urandom",e),Ie.mkdir("/dev/shm"),Ie.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ie.mkdir("/proc");var e=Ie.mkdir("/proc/self");Ie.mkdir("/proc/self/fd"),Ie.mount({mount:function(){var r=Ie.createNode(e,"fd",16895,73);return r.node_ops={lookup:function(e,r){var t=+r,n=Ie.getStream(t);if(!n)throw new Ie.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:function(){l.stdin?Ie.createDevice("/dev","stdin",l.stdin):Ie.symlink("/dev/tty","/dev/stdin"),l.stdout?Ie.createDevice("/dev","stdout",null,l.stdout):Ie.symlink("/dev/tty","/dev/stdout"),l.stderr?Ie.createDevice("/dev","stderr",null,l.stderr):Ie.symlink("/dev/tty1","/dev/stderr");Ie.open("/dev/stdin",0),Ie.open("/dev/stdout",1),Ie.open("/dev/stderr",1)},ensureErrnoError:function(){Ie.ErrnoError||(Ie.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ie.ErrnoError.prototype=new Error,Ie.ErrnoError.prototype.constructor=Ie.ErrnoError,[44].forEach((function(e){Ie.genericErrors[e]=new Ie.ErrnoError(e),Ie.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ie.ensureErrnoError(),Ie.nameTable=new Array(4096),Ie.mount(Be,{},"/"),Ie.createDefaultDirectories(),Ie.createDefaultDevices(),Ie.createSpecialDirectories(),Ie.filesystems={MEMFS:Be}},init:function(e,r,t){Ie.init.initialized=!0,Ie.ensureErrnoError(),l.stdin=e||l.stdin,l.stdout=r||l.stdout,l.stderr=t||l.stderr,Ie.createStandardStreams()},quit:function(){Ie.init.initialized=!1;var e=l._fflush;e&&e(0);for(var r=0;r<Ie.streams.length;r++){var t=Ie.streams[r];t&&Ie.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:function(e,r){var t=Ie.analyzePath(e,r);return t.exists?t.object:null},analyzePath:function(e,r){try{e=(n=Ie.lookupPath(e,{follow:!r})).path}catch(o){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ie.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=Fe.basename(e),n=Ie.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(o){t.error=o.errno}return t},createPath:function(e,r,t,n){e="string"===typeof e?e:Ie.getPath(e);for(var o=r.split("/").reverse();o.length;){var i=o.pop();if(i){var a=Fe.join2(e,i);try{Ie.mkdir(a)}catch(s){}e=a}}return a},createFile:function(e,r,t,n,o){var i=Fe.join2("string"===typeof e?e:Ie.getPath(e),r),a=Ie.getMode(n,o);return Ie.create(i,a)},createDataFile:function(e,r,t,n,o,i){var a=r?Fe.join2("string"===typeof e?e:Ie.getPath(e),r):e,s=Ie.getMode(n,o),f=Ie.create(a,s);if(t){if("string"===typeof t){for(var u=new Array(t.length),c=0,l=t.length;c<l;++c)u[c]=t.charCodeAt(c);t=u}Ie.chmod(f,146|s);var d=Ie.open(f,577);Ie.write(d,t,0,t.length,0,i),Ie.close(d),Ie.chmod(f,s)}return f},createDevice:function(e,r,t,n){var o=Fe.join2("string"===typeof e?e:Ie.getPath(e),r),i=Ie.getMode(!!t,!!n);Ie.createDevice.major||(Ie.createDevice.major=64);var a=Ie.makedev(Ie.createDevice.major++,0);return Ie.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,r,n,o,i){for(var a=0,s=0;s<o;s++){var f;try{f=t()}catch(u){throw new Ie.ErrnoError(29)}if(void 0===f&&0===a)throw new Ie.ErrnoError(6);if(null===f||void 0===f)break;a++,r[n+s]=f}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,o,i){for(var a=0;a<o;a++)try{n(r[t+a])}catch(s){throw new Ie.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}}),Ie.mkdev(o,i,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!k)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=er(k(e.url),!0),e.usedBytes=e.contents.length}catch(r){throw new Ie.ErrnoError(29)}},createLazyFile:function(e,r,t,n,o){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},i.prototype.setDataGetter=function(e){this.getter=e},i.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,i=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;o||(a=n);var s=this;s.setDataGetter((function(e){var r=e*a,o=(e+1)*a-1;if(o=Math.min(o,n-1),"undefined"===typeof s.chunks[e]&&(s.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",t,!1),n!==a&&o.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+t+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):er(o.responseText||"",!0)}(r,o)),"undefined"===typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!i&&n||(a=n=1,n=this.getter(0).length,a=n,D("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!m)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new i;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:t};var f=Ie.createFile(e,r,s,n,o);s.contents?f.contents=s.contents:s.url&&(f.contents=null,f.url=s.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var u={};return Object.keys(f.stream_ops).forEach((function(e){var r=f.stream_ops[e];u[e]=function(){return Ie.forceLoadFile(f),r.apply(null,arguments)}})),u.read=function(e,r,t,n,o){Ie.forceLoadFile(f);var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,n);if(i.slice)for(var s=0;s<a;s++)r[t+s]=i[o+s];else for(s=0;s<a;s++)r[t+s]=i.get(o+s);return a},f.stream_ops=u,f},createPreloadedFile:function(e,r,t,n,o,i,a,s,f,u){Browser.init();var c=r?Ce.resolve(Fe.join2(e,r)):e;function d(t){function d(t){u&&u(),s||Ie.createDataFile(e,r,t,n,o,f),i&&i(),ce()}var p=!1;l.preloadPlugins.forEach((function(e){p||e.canHandle(c)&&(e.handle(t,c,d,(function(){a&&a(),ce()})),p=!0)})),p||d(t)}ue(),"string"==typeof t?Browser.asyncLoad(t,(function(e){d(e)}),a):d(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Ie.indexedDB();try{var o=n.open(Ie.DB_NAME(),Ie.DB_VERSION)}catch(i){return t(i)}o.onupgradeneeded=function(){D("creating db"),o.result.createObjectStore(Ie.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([Ie.DB_STORE_NAME],"readwrite"),i=n.objectStore(Ie.DB_STORE_NAME),a=0,s=0,f=e.length;function u(){0==s?r():t()}e.forEach((function(e){var r=i.put(Ie.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+s==f&&u()},r.onerror=function(){s++,a+s==f&&u()}})),n.onerror=t},o.onerror=t},loadFilesFromDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Ie.indexedDB();try{var o=n.open(Ie.DB_NAME(),Ie.DB_VERSION)}catch(i){return t(i)}o.onupgradeneeded=t,o.onsuccess=function(){var n=o.result;try{var a=n.transaction([Ie.DB_STORE_NAME],"readonly")}catch(i){return void t(i)}var s=a.objectStore(Ie.DB_STORE_NAME),f=0,u=0,c=e.length;function l(){0==u?r():t()}e.forEach((function(e){var r=s.get(e);r.onsuccess=function(){Ie.analyzePath(e).exists&&Ie.unlink(e),Ie.createDataFile(Fe.dirname(e),Fe.basename(e),r.result,!0,!0,!0),++f+u==c&&l()},r.onerror=function(){u++,f+u==c&&l()}})),a.onerror=t},o.onerror=t}},Ne={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,r,t){if("/"===r[0])return r;var n;if(-100===e)n=Ie.cwd();else{var o=Ie.getStream(e);if(!o)throw new Ie.ErrnoError(8);n=o.path}if(0==r.length){if(!t)throw new Ie.ErrnoError(44);return n}return Fe.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(o){if(o&&o.node&&Fe.normalize(r)!==Fe.normalize(Ie.getPath(o.node)))return-54;throw o}return L[t>>2]=n.dev,L[t+4>>2]=0,L[t+8>>2]=n.ino,L[t+12>>2]=n.mode,L[t+16>>2]=n.nlink,L[t+20>>2]=n.uid,L[t+24>>2]=n.gid,L[t+28>>2]=n.rdev,L[t+32>>2]=0,ke=[n.size>>>0,(be=n.size,+Math.abs(be)>=1?be>0?(0|Math.min(+Math.floor(be/4294967296),4294967295))>>>0:~~+Math.ceil((be-+(~~be>>>0))/4294967296)>>>0:0)],L[t+40>>2]=ke[0],L[t+44>>2]=ke[1],L[t+48>>2]=4096,L[t+52>>2]=n.blocks,L[t+56>>2]=n.atime.getTime()/1e3|0,L[t+60>>2]=0,L[t+64>>2]=n.mtime.getTime()/1e3|0,L[t+68>>2]=0,L[t+72>>2]=n.ctime.getTime()/1e3|0,L[t+76>>2]=0,ke=[n.ino>>>0,(be=n.ino,+Math.abs(be)>=1?be>0?(0|Math.min(+Math.floor(be/4294967296),4294967295))>>>0:~~+Math.ceil((be-+(~~be>>>0))/4294967296)>>>0:0)],L[t+80>>2]=ke[0],L[t+84>>2]=ke[1],0},doMsync:function(e,r,t,n,o){var i=z.slice(e,e+t);Ie.msync(r,i,o,t,n)},doMkdir:function(e,r){return"/"===(e=Fe.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ie.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ie.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=Ie.readlink(e),o=Math.min(t,X(n)),i=N[r+o];return V(n,r,t+1),N[r+o]=i,o},doAccess:function(e,r){if(-8&r)return-28;var t;if(!(t=Ie.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&r&&(n+="r"),2&r&&(n+="w"),1&r&&(n+="x"),n&&Ie.nodePermissions(t,n)?-2:0},doDup:function(e,r,t){var n=Ie.getStream(t);return n&&Ie.close(n),Ie.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var o=0,i=0;i<t;i++){var a=L[r+8*i>>2],s=L[r+(8*i+4)>>2],f=Ie.read(e,N,a,s,n);if(f<0)return-1;if(o+=f,f<s)break}return o},doWritev:function(e,r,t,n){for(var o=0,i=0;i<t;i++){var a=L[r+8*i>>2],s=L[r+(8*i+4)>>2],f=Ie.write(e,N,a,s,n);if(f<0)return-1;o+=f}return o},varargs:void 0,get:function(){return Ne.varargs+=4,L[Ne.varargs-4>>2]},getStr:function(e){return q(e)},getStreamFromFD:function(e){var r=Ie.getStream(e);if(!r)throw new Ie.ErrnoError(8);return r},get64:function(e,r){return e}};function ze(e,r,t){Ne.varargs=t;try{var n=Ne.getStreamFromFD(e);switch(r){case 0:return(o=Ne.get())<0?-28:Ie.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=Ne.get();return n.flags|=o,0;case 12:o=Ne.get();return T[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Oe(28),-1;default:return-28}}catch(i){return"undefined"!==typeof Ie&&i instanceof Ie.ErrnoError||le(i),-i.errno}}function Te(e,r,t){Ne.varargs=t;try{var n=Ne.getStreamFromFD(e);switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Ne.get();return L[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:o=Ne.get();return Ie.ioctl(n,r,o);case 21523:case 21524:return n.tty?0:-59;default:le("bad ioctl syscall "+r)}}catch(i){return"undefined"!==typeof Ie&&i instanceof Ie.ErrnoError||le(i),-i.errno}}function Le(e,r,t){Ne.varargs=t;try{var n=Ne.getStr(e),o=t?Ne.get():0;return Ie.open(n,r,o).fd}catch(i){return"undefined"!==typeof Ie&&i instanceof Ie.ErrnoError||le(i),-i.errno}}function Ue(e,r,t){z.copyWithin(e,r,r+t)}function He(e){le("OOM")}function qe(e){He()}function We(e){try{var r=Ne.getStreamFromFD(e);return Ie.close(r),0}catch(t){return"undefined"!==typeof Ie&&t instanceof Ie.ErrnoError||le(t),t.errno}}function Ve(e,r,t,n){try{var o=Ne.getStreamFromFD(e),i=Ne.doReadv(o,r,t);return L[n>>2]=i,0}catch(a){return"undefined"!==typeof Ie&&a instanceof Ie.ErrnoError||le(a),a.errno}}function Xe(e,r,t,n,o){try{var i=Ne.getStreamFromFD(e),a=4294967296*t+(r>>>0),s=9007199254740992;return a<=-s||a>=s?-61:(Ie.llseek(i,a,n),ke=[i.position>>>0,(be=i.position,+Math.abs(be)>=1?be>0?(0|Math.min(+Math.floor(be/4294967296),4294967295))>>>0:~~+Math.ceil((be-+(~~be>>>0))/4294967296)>>>0:0)],L[o>>2]=ke[0],L[o+4>>2]=ke[1],i.getdents&&0===a&&0===n&&(i.getdents=null),0)}catch(f){return"undefined"!==typeof Ie&&f instanceof Ie.ErrnoError||le(f),f.errno}}function Ge(e,r,t,n){try{var o=Ne.getStreamFromFD(e),i=Ne.doWritev(o,r,t);return L[n>>2]=i,0}catch(a){return"undefined"!==typeof Ie&&a instanceof Ie.ErrnoError||le(a),a.errno}}function Ke(e){try{return e()}catch(r){le(r)}}var Je={State:{Normal:0,Unwinding:1,Rewinding:2},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,afterUnwind:null,asyncFinalizers:[],sleepCallbacks:[],getCallStackId:function(e){var r=Je.callStackNameToId[e];return void 0===r&&(r=Je.callStackId++,Je.callStackNameToId[e]=r,Je.callStackIdToName[r]=e),r},instrumentWasmExports:function(e){var r={};for(var t in e)!function(t){var n=e[t];r[t]="function"===typeof n?function(){Je.exportCallStack.push(t);try{return n.apply(null,arguments)}finally{if(C)return;var e=Je.exportCallStack.pop();M(e===t),Je.maybeStopUnwind()}}:n}(t);return r},maybeStopUnwind:function(){Je.currData&&Je.state===Je.State.Unwinding&&0===Je.exportCallStack.length&&(Je.state=Je.State.Normal,Ke(l._asyncify_stop_unwind),"undefined"!==typeof Fibers&&Fibers.trampoline(),Je.afterUnwind&&(Je.afterUnwind(),Je.afterUnwind=null))},allocateData:function(){var e=cr(12+Je.StackSize);return Je.setDataHeader(e,e+12,Je.StackSize),Je.setDataRewindFunc(e),e},setDataHeader:function(e,r,t){L[e>>2]=r,L[e+4>>2]=r+t},setDataRewindFunc:function(e){var r=Je.exportCallStack[0],t=Je.getCallStackId(r);L[e+8>>2]=t},getDataRewindFunc:function(e){var r=L[e+8>>2],t=Je.callStackIdToName[r];return l.asm[t]},handleSleep:function(e){if(!C){if(!0,Je.state===Je.State.Normal){var r=!1,t=!1;e((function(e){if(!C&&(Je.handleSleepReturnValue=e||0,r=!0,t)){Je.state=Je.State.Rewinding,Ke((function(){l._asyncify_start_rewind(Je.currData)})),"undefined"!==typeof Browser&&Browser.mainLoop.func&&Browser.mainLoop.resume();var n=Je.getDataRewindFunc(Je.currData)();if(!Je.currData){var o=Je.asyncFinalizers;Je.asyncFinalizers=[],o.forEach((function(e){e(n)}))}}})),t=!0,r||(Je.state=Je.State.Unwinding,Je.currData=Je.allocateData(),Ke((function(){l._asyncify_start_unwind(Je.currData)})),"undefined"!==typeof Browser&&Browser.mainLoop.func&&Browser.mainLoop.pause())}else Je.state===Je.State.Rewinding?(Je.state=Je.State.Normal,Ke(l._asyncify_stop_rewind),ur(Je.currData),Je.currData=null,Je.sleepCallbacks.forEach((function(e){e()}))):le("invalid state: "+Je.state);return Je.handleSleepReturnValue}},handleAsync:function(e){return Je.handleSleep((function(r){e().then(r)}))}},Qe=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ie.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},Ye=365,Ze=146;Object.defineProperties(Qe.prototype,{read:{get:function(){return(this.mode&Ye)===Ye},set:function(e){e?this.mode|=Ye:this.mode&=~Ye}},write:{get:function(){return(this.mode&Ze)===Ze},set:function(e){e?this.mode|=Ze:this.mode&=~Ze}},isFolder:{get:function(){return Ie.isDir(this.mode)}},isDevice:{get:function(){return Ie.isChrdev(this.mode)}}}),Ie.FSNode=Qe,Ie.staticInit();var $e=!1;function er(e,r,t){var n=t>0?t:X(e)+1,o=new Array(n),i=W(e,o,0,o.length);return r&&(o.length=i),o}function rr(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];n>255&&($e&&M(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+t+" not in 0x00-0xFF."),n&=255),r.push(String.fromCharCode(n))}return r.join("")}var tr="function"===typeof atob?atob:function(e){var r,t,n,o,i,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="",u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=s.indexOf(e.charAt(u++))<<2|(o=s.indexOf(e.charAt(u++)))>>4,t=(15&o)<<4|(i=s.indexOf(e.charAt(u++)))>>2,n=(3&i)<<6|(a=s.indexOf(e.charAt(u++))),f+=String.fromCharCode(r),64!==i&&(f+=String.fromCharCode(t)),64!==a&&(f+=String.fromCharCode(n))}while(u<e.length);return f};function nr(e){if("boolean"===typeof v&&v){var r;try{r=o.from(e,"base64")}catch(a){r=new o(e,"base64")}return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}try{for(var t=tr(e),n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}catch(a){throw new Error("Converting base64 string to bytes failed.")}}function or(e){if(he(e))return nr(e.slice(pe.length))}var ir,ar={j:_e,n:xe,o:De,i:je,h:Se,b:ze,f:Te,g:Le,l:Ue,m:qe,c:We,e:Ve,k:Xe,d:Ge,a:F},sr=(Ee(),l.___wasm_call_ctors=function(){return(sr=l.___wasm_call_ctors=l.asm.p).apply(null,arguments)}),fr=(l._Cybootloader_WebHidProgram=function(){return(l._Cybootloader_WebHidProgram=l.asm.q).apply(null,arguments)},l._Cybootloader_WebHidVerify=function(){return(l._Cybootloader_WebHidVerify=l.asm.r).apply(null,arguments)},l._Cybootloader_WebHidErase=function(){return(l._Cybootloader_WebHidErase=l.asm.s).apply(null,arguments)},l.___errno_location=function(){return(fr=l.___errno_location=l.asm.u).apply(null,arguments)}),ur=l._free=function(){return(ur=l._free=l.asm.v).apply(null,arguments)},cr=l._malloc=function(){return(cr=l._malloc=l.asm.w).apply(null,arguments)},lr=l.stackSave=function(){return(lr=l.stackSave=l.asm.x).apply(null,arguments)},dr=l.stackRestore=function(){return(dr=l.stackRestore=l.asm.y).apply(null,arguments)},pr=l.stackAlloc=function(){return(pr=l.stackAlloc=l.asm.z).apply(null,arguments)};l._asyncify_start_unwind=function(){return(l._asyncify_start_unwind=l.asm.A).apply(null,arguments)},l._asyncify_stop_unwind=function(){return(l._asyncify_stop_unwind=l.asm.B).apply(null,arguments)},l._asyncify_start_rewind=function(){return(l._asyncify_start_rewind=l.asm.C).apply(null,arguments)},l._asyncify_stop_rewind=function(){return(l._asyncify_stop_rewind=l.asm.D).apply(null,arguments)};function hr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function mr(e){function r(){ir||(ir=!0,l.calledRun=!0,C||(re(),te(),l.onRuntimeInitialized&&l.onRuntimeInitialized(),ne()))}e=e||p,ae>0||(ee(),ae>0||(l.setStatus?(l.setStatus("Running..."),setTimeout((function(){setTimeout((function(){l.setStatus("")}),1),r()}),1)):r()))}if(l.ccall=B,fe=function e(){ir||mr(),ir||(fe=e)},l.run=mr,l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();mr();var vr=function(){"use strict";function e(){s(this,e),this.device=void 0,this.filename="/tmp/file",this.messageCallbacks=[console.log]}return f(e,[{key:"setDevice",value:function(e){if(this.device=e,void 0!==this.device){var r=this;this.device.addEventListener("inputreport",(function(e){return r.saveResponse(new Uint8Array(e.data.buffer))})),this._message('Selected device "'.concat(this.device.productName,'"'))}}},{key:"findDevice",value:function(){var e=c(u.mark((function e(r){var t;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.hid.requestDevice({filters:[r]});case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",!1);case 5:return this.setDevice(t[0]),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"hasDevice",value:function(){return void 0!==this.device}},{key:"loadFile",value:function(){var e=c(u.mark((function e(r){var t;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,r.arrayBuffer();case 3:e.t1=e.sent,t=new e.t0(e.t1),Ie.writeFile(this.filename,t);case 6:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"program",value:function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._action("Program");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"verify",value:function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._action("Verify");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"erase",value:function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._action("Erase");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addMessageCallback",value:function(e){this.messageCallbacks.push(e)}},{key:"_message",value:function(e){var r,t=a(this.messageCallbacks);try{for(t.s();!(r=t.n()).done;){(0,r.value)(e)}}catch(j){t.e(j)}finally{t.f()}}},{key:"_action",value:function(){var e=c(u.mark((function e(r){var t;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ccall("Cybootloader_WebHid"+r,"number",["string"],[this.filename],{async:!0});case 2:return 0==(t=e.sent)?this._message("".concat(r," successful, done")):this._message("".concat(r," error: return code ").concat(t)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"_open",value:function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasDevice()){e.next=2;break}throw Error("No HID device is currently selected");case 2:if(this.device.opened){e.next=6;break}return e.next=5,this.device.open();case 5:this._message('Opened device "'.concat(this.device.productName,'"'));case 6:this.rxCount=this.txCount=0;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_close",value:function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.device.close();case 2:this._message('Closed device "'.concat(this.device.productName,'"'));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_read",value:function(){var e=c(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++this.rxCount,M(this.rxCount==this.txCount),e.next=4,this.readResponse;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_write",value:function(){var e=c(u.mark((function e(r){var t=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++this.txCount,this.readResponse=new Promise((function(e){return t.saveResponse=e})),e.next=4,this.device.sendReport(0,r);case 4:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()}]),e}(),br=new vr;l.activeDevice=br,e.exports=br}).call(this,t(16),"/",t(15).Buffer)}},[[284,1,2]]]);
//# sourceMappingURL=main.5903f7a7.chunk.js.map